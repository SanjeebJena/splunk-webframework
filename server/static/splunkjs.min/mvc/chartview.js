define("helpers/user_agent",["underscore"],function(e){var t={Chrome:/chrome/i,Firefox:/firefox/i,Safari:/safari/i,IE:/msie ([\d.]+)/i,IE10:/msie 10\.0/i,IE9:/msie 9\.0/i,IE8:/msie 8\.0/i,IE7:/msie 7\.0/i},n={agentString:window.navigator.userAgent,isChrome:function(){return t.Chrome.test(n.agentString)},isFirefox:function(){return t.Firefox.test(n.agentString)},isIE:function(){return t.IE.test(n.agentString)},isIE10:function(){return t.IE10.test(n.agentString)},isIE9:function(){return t.IE9.test(n.agentString)},isIE8:function(){return t.IE8.test(n.agentString)},isIE7:function(){return t.IE7.test(n.agentString)},isSafari:function(){return!n.isChrome()&&t.Safari.test(n.agentString)},isIELessThan:function(e){return n.isIE()&&parseFloat(t.IE.exec(n.agentString)[1])<e}};return e(e.functions(n)).chain().each(function(t){n[t]=e(n[t]).memoize()}),n}),define("util/jscharting_utils",["underscore","helpers/user_agent"],function(e,t){var n=/^[^_]|^_time/,r=50,i=function(){return t.isIE()?t.isIELessThan(9)?500:4e3:5e3}(),s=t.isIELessThan(9)?2e3:2e4,o=function(){return t.isIE()?t.isIELessThan(9)?80:150:200}(),u=function(e,t){t=t||{};var n={};return t.JSCHART_TEST_MODE&&(n.testMode=!0),e.length>0&&e.fieldAt(0)!=="_time"&&e.seriesAt(0).length>=o&&(n["axisLabelsX.hideCategories"]=!0),e.hasField("_tc")&&(n.fieldHideList=["percent"]),n},a=function(t,n){var r={fields:t.fields,columns:[]};return e(t.columns).each(function(e,t){r.columns[t]=e.slice(0,n)}),r},f=function(t){var r=e.isString(t)?t:t.name;return n.test(r)},l=function(t,n){if(t.columns.length===0||t.columns[0].length===0)return t;var o=n.chart||"column";if(o in{pie:!0,scatter:!0,radialGauge:!0,fillerGauge:!0,markerGauge:!0})return t;t={columns:t.columns.slice(0,r),fields:t.fields.slice(0,r)};var u,l=parseInt(n["chart.resultTruncationLimit"],10)||parseInt(n.resultTruncationLimit,10);l>0?u=l:u=o in{line:!0,area:!0}?s:i;var c=e(t.fields).filter(f),h=c.length-1,p=t.columns[0].length,d=Math.floor(u/h);return p>d?a(t,d):t};return{getCustomDisplayProperties:u,preprocessChartData:l}}),define("splunkjs/mvc/chartview",["require","exports","module","underscore","backbone","jquery","./mvc","./basesplunkview","./messages","./drilldown","./utils","./settings","util/console","splunk.util","splunk.legend","util/jscharting_utils","splunk.config","jquery.ui.resizable"],function(e,t,n){var r=e("underscore"),i=e("backbone"),s=e("jquery"),o=e("./mvc"),u=e("./basesplunkview"),a=e("./messages"),f=e("./drilldown"),l=e("./utils"),c=e("./settings"),h=e("util/console"),p=e("splunk.util"),d=e("splunk.legend"),v=e("util/jscharting_utils"),m=e("splunk.config"),g=e("jquery.ui.resizable"),y;return u.extend({moduleId:n.id,className:"splunk-chart",chartOptionPrefix:"charting.",options:{height:250,drilldown:"all",data:"preview",type:"column","charting.drilldown":!0},omitFromSettings:["el","reportModel","drilldown"],configure:function(){return u.prototype.configure.apply(this,arguments),this},initialize:function(){this.configure(),o.enableDynamicTokens(this.settings),this.model=this.options.reportModel||new i.Model,this.settings._sync=l.syncModels(this.settings,this.model,{auto:!0,prefix:"display.visualizations.",exclude:["managerid","id","name","data","type"]}),this._currentHeight=this.settings.get("height"),this.$chart=s("<div></div>"),this.$msg=s("<div></div>"),this.$inlineMsg=s("<div></div>"),this.settings.on("change",this.render,this);var t=this;e(["js_charting/js_charting"],function(e){y=e,t._chartCreationPending&&t._createChart(),t.createChart=t._createChart}),this.bindToComponent(this.options.managerid,this._onManagerChange,this),d.register(this.cid),this.enableResize()},_onManagerChange:function(e,t){this.manager&&(this.manager.off(null,null,this),this.manager=null),this.resultsModel&&(this.resultsModel.off(null,null,this),this.resultsModel=null);if(!t){this.message("no-search");return}this._err=!1,this.manager=t,this.resultsModel=this.manager.data(this.settings.get("data"),{autofetch:!0,output_mode:"json_cols",show_metadata:!0,count:0}),this.resultsModel.on("data",this._onDataChanged,this),t.on("search:start",this._onSearchStart,this),t.on("search:progress",this._onSearchProgress,this),t.on("search:cancelled",this._onSearchCancelled,this),t.on("search:fail",this._onSearchFailed,this),t.on("search:error",this._onSearchError,this),t.replayLastSearchEvent(this)},_onDataChanged:function(){var e=this.resultsModel.data();h.log("chart data changed:",e),e.fields.length&&(this.chartData=e,this.updateChart())},_onSearchProgress:function(e){this._err=!1,e=e||{};var t=e.content||{},n=t.resultPreviewCount||0,r=t.isDone||!1;if(n===0&&r){this.message("no-results");return}n===0&&this.message("waiting")},_onSearchCancelled:function(){this.message("cancelled")},_onSearchError:function(e,t){this._err=!0;var n=e;t&&t.data&&t.data.messages&&t.data.messages.length&&(n=r(t.data.messages).pluck("text").join("; ")),this.message({level:"warning",icon:"warning-sign",message:n})},_onSearchFailed:function(e){this._err=!0;var t=r("The search failed.").t();e&&e.content&&e.content.messages&&(t=r(e.content.messages).pluck("text")[0]),this.message({level:"warning",icon:"warning-sign",message:t})},_onSearchStart:function(){this._err=!1,this.message("waiting")},message:function(e){this.$msg.detach(),a.render(e,this.$msg),this.$msg.prependTo(this.$el),this.trigger("rendered",this)},inlineMessage:function(e){e.compact=!0,a.render(e,this.$inlineMsg),this.trigger("rendered",this)},render:function(){return this.$el.height(this._currentHeight).css("overflow-y","hidden"),this.$msg.height(this._currentHeight).css("overflow-y","hidden"),this.$chart.appendTo(this.$el),this.$inlineMsg.appendTo(this.$el),this.chart&&(this.destroyChart(),this.chart=null),this._boundInvalidateChart||(this._boundInvalidateChart=r.bind(this.invalidateChart,this)),d.removeEventListener("labelIndexMapChanged",this._boundInvalidateChart),d.addEventListener("labelIndexMapChanged",this._boundInvalidateChart),this._debouncedResize||(this._debouncedResize=r.debounce(r.bind(this.resizeChart,this),100)),s(window).off("resize",this._debouncedResize),s(window).on("resize",this._debouncedResize),this.createChart(),this},show:function(){this.$el.css("display","")},hide:function(){this.$el.css("display","none")},createChart:function(){this._chartCreationPending=!0},enableResize:function(){s.browser.safari&&s.browser.version<"526"||(this.$el.resizable({autoHide:!0,handles:"s",stop:this.onResizeStop.bind(this)}),this.$el.mouseup(function(e){s(this).width("100%")}))},onResizeStop:function(e,t){s(e.target).width("100%"),this._currentHeight=this.$el.height(),this.resizeChart()},_createChart:function(){var e={chart:this.settings.get("type")},t=this.chartOptionPrefix;r.each(this.settings.toJSON(),function(n,r){r.substring(0,t.length)==t&&(e[r.substring(t.length)]=n)},this);if(this._err)return;this.$msg.detach(),h.log("creating chart with data: ",e);var n=this.chart=y.createChart(this.$chart[0],e);n.on("pointClick",this.emitDrilldownEvent.bind(this)),n.on("legendClick",this.emitDrilldownEvent.bind(this)),n.on("pointClick",this.chartClicked.bind(this)),n.on("legendClick",this.legendClicked.bind(this)),this.updateChart()},resizeChart:function(){this.chart&&(this.updateChartContainerHeight(),this.chart.resize())},updateChart:function(){if(this._err)return;h.log("updateChart data=%o this.chart=%o",this.chartData,this.chart);if(this.chartData){if(this.chart){this.$msg.detach(),this.$inlineMsg.empty();var e=v.preprocessChartData(this.chartData,this.chart.getCurrentDisplayProperties()),t=y.extractChartReadyData(e);this.chart.prepare(t,v.getCustomDisplayProperties(t,m)),e.columns.length>0&&(e.columns.length<this.chartData.columns.length||e.columns[0].length<this.chartData.columns[0].length)&&this.inlineMessage({level:"warn",message:r("Search generated too much data for the current display configuration, results may have been truncated.").t()}),this.updateChartContainerHeight();if(this.chart.requiresExternalColorPalette()){var n=this.chart.getFieldList();d.setLabels(this.cid,n)}this.invalidateChart()}else this.createChart();this.trigger("rendered",this)}},destroyChart:function(){this.chart.off(),this.chart.destroy(),clearTimeout(this._redrawChartTimeout)},updateChartContainerHeight:function(){this.$chart.height(this._currentHeight-this.$inlineMsg.outerHeight())},invalidateChart:function(){clearTimeout(this._redrawChartTimeout);if(!this.chart||!this.chartData)return;var e=this;this._redrawChartTimeout=setTimeout(function(){e.chart.requiresExternalColorPalette()&&e.setChartColorPalette(),e.chart.draw(),e.trigger("rendered",e)},5)},setChartColorPalette:function(){var e={};r(this.chart.getFieldList()).each(function(t){e[t]=d.getLabelIndex(t)}),this.chart.setExternalColorPalette(e,d.numLabels())},emitDrilldownEvent:function(e){var t=o.Global.toJSON(),n=this.manager;e.hasOwnProperty("name")&&r.extend(t,{"click.name":e.name,"click.value":e.value}),e.hasOwnProperty("name2")&&r.extend(t,{"click.name2":e.name2,"click.value2":e.value2}),r.extend(t,e.rowContext),n.job&&r.extend(t,{earliest:n.job.properties().searchEarliestTime,latest:n.job.properties().searchLatestTime}),this.trigger("drilldown",{field:e.name2||e.name,data:t,event:e,defaultDrilldown:r(this.drilldown).bind(this,e)})},drilldown:function(e,t){var n=p.normalizeBoolean(this.settings.get("charting.drilldown"))?"all":"none";f.handleDrilldown(e,n,this.manager,t)},chartClicked:function(e){this.trigger("clicked:chart",e)},legendClicked:function(e){this.trigger("clicked:legend",e)},remove:function(){d.unregister(this.cid),this._boundInvalidateChart&&d.removeEventListener("labelIndexMapChanged",this._boundInvalidateChart),this._debouncedResize&&s(window).off("resize",this._debouncedResize),this.chart&&this.destroyChart(),this.settings&&(this.settings.off(),this.settings._sync&&this.settings._sync.destroy()),u.prototype.remove.call(this)}})}),define("js_charting/util/math_utils",["underscore","util/math_utils"],function(e,t){var n=/^( )*(0x|-0x)/,r=function(e){return n.test(e)?parseInt(e,16):t.strictParseFloat(e)},i=function(e){var t=Math.log(e)/Math.LN10;return Math.round(t*1e4)/1e4},s=function(t){typeof t!="number"&&(t=r(t));if(e(t).isNaN())return t;var n=t<0,s;return n&&(t=-t),t<10&&(t+=(10-t)/10),s=i(t),n?-s:s},o=function(t){typeof t!="number"&&(t=r(t));if(e(t).isNaN())return t;var n=t<0,i;return n&&(t=-t),i=Math.pow(10,t),i<10&&(i=10*(i-1)/9),i=n?-i:i,Math.round(i*1e3)/1e3},u=function(e){if(typeof e!="number")return NaN;var t=e<0;e=t?-e:e;var n=i(e),r=Math.pow(10,Math.floor(n));return t?-r:r},a=function(e,t){return Math.max(Math.round(e),t)},f=function(e,t,n){var r=Math.round(e);return r<t?t:r>n?n:r},l=function(e){return e*Math.PI/180},c=function(e,t){t=t||Infinity;var n=0;while(n<t&&e.toFixed(n)!==e.toString())n+=1;return n};return{parseFloat:r,logBaseTen:i,absLogBaseTen:s,absPowerTen:o,nearestPowerOfTen:u,roundWithMin:a,roundWithMinMax:f,degreeToRadian:l,getDecimalPrecision:c}}),define("js_charting/helpers/DataSet",["jquery","underscore","../util/math_utils"],function(e,t,n){var r=function(n){var r=n.fields||{},i=n.columns||{};this.fields=[],this.seriesList=[],this.fieldMetadata={},t(r).each(function(n,r){var s;t.isObject(n)?(s=n.name,this.fieldMetadata[s]=n):s=n;if(e.inArray(s,this.ALLOWED_HIDDEN_FIELDS)>-1||this.isDataField(s))this.fields.push(s),this.seriesList.push(e.extend([],i[r]))},this),this.length=this.fields.length,this.getSeriesAsFloats=t.memoize(this.getSeriesAsFloats,this.seriesAsFloatsMemoizeHash)};return r.prototype={ALLOWED_HIDDEN_FIELDS:["_span","_lower","_predicted","_upper","_tc"],DATA_FIELD_REGEX:/^[^_]|^_time/,allDataFields:function(){return t(this.fields).filter(this.isDataField,this)},isDataField:function(e){return this.DATA_FIELD_REGEX.test(e)},isTotalValue:function(e){return e==="ALL"},hasField:function(e){return t(this.fields).indexOf(e)>-1},fieldAt:function(e){return this.fields[e]},fieldIsGroupby:function(e){return this.fieldMetadata[e]&&this.fieldMetadata[e].hasOwnProperty("groupby_rank")},seriesAt:function(e){return this.seriesList[e]},getSeries:function(e){var n=t(this.fields).indexOf(e);return n===-1?[]:this.seriesList[n]},getSeriesAsFloats:function(e,r){r=r||{};var i=this.getSeries(e),s=r.nullValueMode==="zero",o=r.scale==="log",u=[];for(var a=0;a<i.length;a++){var f=n.parseFloat(i[a]);if(t.isNaN(f)){u.push(s?0:null);continue}u.push(o?n.absLogBaseTen(f):f)}return u},getSeriesAsTimestamps:function(e){var n=this.getSeries(e);return this.isTotalValue(t(n).last())?n.slice(0,-1):n},seriesAsFloatsMemoizeHash:function(e,t){return t=t||{},e+t.scale+t.nullValueMode}},r}),define("js_charting/util/dom_utils",["jquery","underscore"],function(e,t){var n=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,r=t(e.fn.on).isFunction()?e.fn.on:e.fn.bind,i=t(e.fn.off).isFunction()?e.fn.off:e.fn.unbind,s=function(e,t){if(e.attr("text")===t)return;e.added=!0,e.attr({text:t})},o=function(t){var n=t.label,r=t.label.element.nodeName.toLowerCase();r==="text"?n.hide():e(n.element).hide()},u=function(t){var n=t.label,r=t.label.element.nodeName.toLowerCase();r==="text"?n.show():e(n.element).show()};return{hasSVG:n,jQueryOn:r,jQueryOff:i,setLegendItemText:s,hideTickLabel:o,showTickLabel:u}}),define("js_charting/helpers/EventMixin",["jquery","../util/dom_utils"],function(e,t){return{on:function(n,r){t.jQueryOn.call(e(this),n,r)},off:function(n,r){t.jQueryOff.call(e(this),n,r)},trigger:function(t,n){e(this).trigger(t,n)}}}),define("js_charting/util/color_utils",["underscore","splunk.util"],function(e,t){var n=function(t,n){typeof t!="number"&&(t=parseInt(t,16));if(e(t).isNaN()||t<0||t>16777215)return null;var r=(t&16711680)>>16,i=(t&65280)>>8,s=t&255;return n===undefined?"rgb("+r+","+i+","+s+")":"rgba("+r+","+i+","+s+","+n+")"},r=function(e){var t=e.split(","),n=t[0].charAt(3);return n==="a"?(t[0]=t[0].replace("rgba","rgb"),t[t.length-1]=")",t=t.join(),t=t.replace(",)",")"),t):e},i=function(e){var n=t.normalizeColor(e);return n?parseInt(n.replace("#","0x"),16):0},s=function(e,t){var r=typeof e=="number"?e:i(e);return n(r,t)},o=function(e){typeof e!="number"&&(e=parseInt(e,16));if(isNaN(e)||e<0||e>16777215)return 0;var t=(e&16711680)>>16,n=(e&65280)>>8,r=e&255;return Math.round(.2126*t+.7152*n+.0722*r)};return{colorFromHex:n,stripOutAlpha:r,hexFromColor:i,addAlphaToColor:s,getLuminance:o}}),define("js_charting/util/parsing_utils",["underscore","splunk.util"],function(e,t){var n=function(n,r){return e(n).isUndefined()?!!r:t.normalizeBoolean(n)},r=function(t){if(!t)return!1;var n,r,i,a,f={};t=s(t);var l=t.length;if(t.charAt(0)!=="{"||t.charAt(l-1)!=="}")return!1;if(/^\{\s*\}$/.test(t))return{};t=t.substr(1,l-2),r=o(t,",");for(n=0;n<r.length;n++)i=o(r[n],":"),a=s(i[0]),a[0]==='"'&&(a=a.substring(1)),e(a).last()==='"'&&(a=a.substring(0,a.length-1)),a=u(a,["{","}","[","]","(",")",",",":",'"']),f[a]=s(i[1]);return f},i=function(e){if(!e)return!1;e=s(e);var n=e.length;return e.charAt(0)!=="["||e.charAt(n-1)!=="]"?!1:/^\[\s*\]$/.test(e)?[]:(e=e.substr(1,n-2),t.stringToFieldList(e))},s=function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},o=function(t,n,r){r=r||"\\";var i=t.split(n),s=[i.shift()];return e(i).each(function(t){var i=e(s).last();e(i).last()===r?s[s.length-1]+=n+t:s.push(t)}),s},u=function(t,n){return e(n).each(function(e){var n=new RegExp("\\\\\\"+e,"g");t=t.replace(n,e)}),t},a=function(e){return t.escapeHtml(e)},f=function(e){return(""+e).replace(/</g,"&lt;").replace(/>/g,"&gt;")},l=function(e){var t,n,r=i(e);if(!r)return!1;for(t=0;t<r.length;t++){n=parseInt(r[t],16);if(isNaN(n))return!1;r[t]=n}return r},c=function(e,t){if(e instanceof Array&&t instanceof Array){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1},h=function(t){var n={},r=g(t,/legend[.]/);return e(r).each(function(e,t){n[t.replace(/^legend[.]/,"")]=e}),n},p=function(e){var t,n,r={},i=g(e,/(axisX|primaryAxis|axisLabelsX|axisTitleX|gridLinesX)/);for(t in i)i.hasOwnProperty(t)&&(d(t,e)||(n=t.replace(/(axisX|primaryAxis)/,"axis"),n=n.replace(/axisLabelsX/,"axisLabels"),n=n.replace(/axisTitleX/,"axisTitle"),n=n.replace(/gridLinesX/,"gridLines"),r[n]=i[t]));return r},d=function(e,t){return/primaryAxis/.test(e)?/primaryAxisTitle/.test(e)?t[e.replace(/primaryAxisTitle/,"axisTitleX")]:t[e.replace(/primaryAxis/,"axisX")]:!1},v=function(e){var t,n,r={},i=g(e,/(axisY|secondaryAxis|axisLabelsY|axisTitleY|gridLinesY)/);for(t in i)i.hasOwnProperty(t)&&(m(t,e)||(n=t.replace(/(axisY|secondaryAxis)/,"axis"),n=n.replace(/axisLabelsY/,"axisLabels"),n=n.replace(/axisTitleY/,"axisTitle"),n=n.replace(/gridLinesY/,"gridLines"),r[n]=i[t]));return r},m=function(e,t){return/secondaryAxis/.test(e)?/secondaryAxisTitle/.test(e)?t[e.replace(/secondaryAxisTitle/,"axisTitleY")]:t[e.replace(/secondaryAxis/,"axisY")]:!1},g=function(e,t){if(t instanceof RegExp){var n,r={};for(n in e)e.hasOwnProperty(n)&&t.test(n)&&(r[n]=e[n]);return r}return e};return{normalizeBoolean:n,stringToObject:r,stringToArray:i,trimWhitespace:s,escapeSafeSplit:o,unescapeChars:u,escapeHtml:a,escapeSVG:f,stringToHexArray:l,arraysAreEquivalent:c,getLegendProperties:h,getXAxisProperties:p,xAxisKeyIsTrumped:d,getYAxisProperties:v,yAxisKeyIsTrumped:m,filterPropsByRegex:g}}),define("js_charting/visualizations/Visualization",["jquery","underscore","../helpers/EventMixin","../util/color_utils","../util/parsing_utils"],function(e,t,n,r,i){var s=function(n,r){this.container=n,this.$container=e(n),this.properties=e.extend(!0,{},r),this.id=t.uniqueId("viz_"),this.updateDimensions(),this.benchmarks=[]};return s.prototype=e.extend({},n,{requiresExternalColors:!1,getWidth:function(){return this.$container.width()},getHeight:function(){return this.$container.height()},getCurrentDisplayProperties:function(){return this.properties},updateDimensions:function(){this.width=this.getWidth(),this.height=this.getHeight()},getClassName:function(){return this.type+"-chart"},prepare:function(t,n){n&&e.extend(!0,this.properties,n),this.dataSet=t,this.processProperties()},prepareAndDraw:function(e,t,n){this.prepare(e,t),this.draw(n)},requiresExternalColorPalette:function(){return this.requiresExternalColors},processProperties:function(){this.type=this.properties.chart||"column",this.backgroundColor=this.properties["chart.backgroundColor"]||this.properties.backgroundColor||"rgb(255, 255, 255)",this.foregroundColor=this.properties["chart.foregroundColor"]||this.properties.foregroundColor||"rgb(0, 0, 0)",this.fontColor=this.properties["chart.fontColor"]||this.properties.fontColor||"rgb(0, 0, 0)",this.foregroundColorSoft=r.addAlphaToColor(this.foregroundColor,.25),this.foregroundColorSofter=r.addAlphaToColor(this.foregroundColor,.15),this.testMode=i.normalizeBoolean(this.properties["chart.testMode"])||i.normalizeBoolean(this.properties.testMode),this.exportMode=i.normalizeBoolean(this.properties["chart.exportMode"])||i.normalizeBoolean(this.properties.exportMode)},resize:function(){var e=this.width,t=this.height;this.updateDimensions();if(this.width===e&&this.height===t)return;this.setSize(this.width,this.height)},draw:function(){},destroy:function(){},getSVG:function(){},benchmark:function(e){if(!this.testMode)return;if(this.benchmarks.length===0)this.benchmarks.push([e,(new Date).getTime()]);else{var n=t(this.benchmarks).reduce(function(e,t){return e+t[1]},0);this.benchmarks.push([e,(new Date).getTime()-n])}}}),s}),define("js_charting/components/ColorPalette",["../util/parsing_utils","../util/color_utils"],function(e,t){var n=function(t,n){this.setColors(t),this.useInterpolation=e.normalizeBoolean(n,!1)};return n.prototype={setColors:function(e){this.colors=e||this.BASE_COLORS},getColor:function(e,t,n){var r,i,s,o=this.colors.length;return o===0?0:(t<0&&(t=0),this.useInterpolation?(n<1&&(n=1),t>n&&(t=n),r=n===1?0:(o-1)*(t/(n-1)),i=Math.floor(r),s=Math.min(i+1,o-1),r-=i,this.interpolateColors(this.colors[i],this.colors[s],r)):this.colors[t%o])},getColorAsRgb:function(e,n,r){var i=this.getColor(e,n,r);return t.colorFromHex(i)},interpolateColors:function(e,t,n){var r=e>>16&255,i=e>>8&255,s=e&255,o=t>>16&255,u=t>>8&255,a=t&255,f=r+Math.round((o-r)*n),l=i+Math.round((u-i)*n),c=s+Math.round((a-s)*n);return f<<16|l<<8|c},BASE_COLORS:[7059400,16434717,14179901,9793174,16224556,10142268,10062933,14518192,5536175,14723387,7047472,10503512,10999007,16571767,15244939,12560576,16432512,12769930,12761753,15448016,10006479,15518601,10926211,13012891,4288121,9860881,8534053,5849690,9721626,6059044,6050867,8737130,3295593,8807715,4215325,6302005]},n}),define("js_charting/components/axes/Axis",["jquery","underscore","../../util/parsing_utils","../../util/dom_utils","util/console"],function(e,t,n,r,i){var s=function(e){this.properties=e||{},this.id=t.uniqueId("axis_"),this.isVertical=this.properties["axis.orientation"]==="vertical"};return s.prototype={clone:function(){return new this.constructor(e.extend(!0,{},this.properties))},getConfig:function(){var r=null,i=this;return this.properties["axisTitle.visibility"]!=="collapsed"&&this.properties.hasOwnProperty("axisTitle.text")&&!/^\s+$/.test(this.properties["axisTitle.text"])&&(r=n.escapeSVG(this.properties["axisTitle.text"])),e.extend(!0,this.getOrientationDependentConfig(),{id:this.id,labels:{enabled:this.properties["axisLabels.majorLabelVisibility"]!=="hide",formatter:function(){var e=this;return i.formatLabel(e)},style:{color:this.properties["axis.fontColor"]||"#000000"}},title:{style:{color:this.properties["axis.fontColor"]||"#000000"},text:r},lineColor:this.properties["axis.foregroundColorSoft"]||"#000000",lineWidth:this.properties["axisLabels.axisVisibility"]==="hide"?0:1,gridLineColor:this.properties["axis.foregroundColorSofter"]||"#000000",tickColor:this.properties["axis.foregroundColorSoft"]||"#000000",tickLength:parseInt(this.properties["axisLabels.majorTickSize"],10)||25,tickWidth:this.properties["axisLabels.majorTickVisibility"]==="hide"?0:1,tickRenderPostHook:t(this.tickRenderPostHook).bind(this),tickHandleOverflowOverride:t(this.tickHandleOverflowOverride).bind(this)})},getOrientationDependentConfig:function(){return this.isVertical?e.extend(!0,{},this.BASE_VERT_CONFIG,this.getVerticalConfig()):e.extend(!0,{},this.BASE_HORIZ_CONFIG,this.getHorizontalConfig())},onChartLoad:function(e){this.hcAxis=e.get(this.id),this.initializeTicks()},initializeTicks:function(){var e,t=this.hcAxis.ticks,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(t[e]);n.sort(function(e,t){return e.pos-t.pos}),this.ticks=n},tickRenderPostHook:function(e,t,n){if(!e.label)return;e.handleOverflow(t,e.label.xy)?r.showTickLabel(e):r.hideTickLabel(e)},tickHandleOverflowOverride:function(e,t,n){if(e.isFirst)return this.handleFirstTickOverflow(e,t,n);var r=e.axis,i=r.options,s=r.tickPositions.length-(i.tickmarkPlacement==="between"?0:1),o=i.labels.step||1;return e.isLast||t===s-s%o?this.handleLastTickOverflow(e,t,n):!0},handleFirstTickOverflow:function(e,t,n){var r=e.axis;if(r.horiz||r.reversed)return!0;var i=this.getTickLabelExtremesY(e)[1],s=r.top+r.len;return n.y+i<=s},handleLastTickOverflow:function(e,t,n){var r=e.axis;if(!r.horiz&&!r.reversed)return!0;if(r.horiz){var i=r.left+r.len,s=this.getTickLabelExtremesX(e)[1];return n.x+s<=i}var o=this.getTickLabelExtremesY(e)[1],u=r.top+r.len;return n.y+o<=u},getTickLabelExtremesX:function(e){return e.getLabelSides()},getTickLabelExtremesY:function(e){var t=-(e.axis.options.labels.y/2);return[t,t+e.labelBBox.height]},destroy:function(){this.hcAxis=null},onChartLoadOrResize:function(){},getVerticalConfig:function(){return{}},getHorizontalConfig:function(){return{}},BASE_HORIZ_CONFIG:{title:{margin:8}},BASE_VERT_CONFIG:{}},s}),define("js_charting/helpers/Formatter",["jquery","../util/dom_utils"],function(e,t){var n=function(e){this.renderer=e,this.hasSVG=t.hasSVG};return n.prototype={ellipsize:function(e,t,n,r){if(e.length<=3)return e;if(!t||isNaN(parseFloat(t,10)))return"...";if(!n||isNaN(parseFloat(n,10)))return e;if(this.predictTextWidth(e,n)<=t)return e;this.ellipsisWidth||(this.ellipsisWidth=this.predictTextWidth("...",n));switch(r){case"start":var i=this.reverseString(e),s=this.trimStringToWidth(i,t-this.ellipsisWidth,n);return"..."+this.reverseString(s);case"end":return this.trimStringToWidth(e,t-this.ellipsisWidth,n)+"...";default:var o=e.substr(0,Math.ceil(e.length/2)),u=e.substr(Math.floor(e.length/2)),a=(t-this.ellipsisWidth)/2,f=this.reverseString(u),l=this.trimStringToWidth(o,a,n),c=this.trimStringToWidth(f,a,n);return l+"..."+this.reverseString(c)}},trimStringToWidth:function(e,t,n){var r=this,i=function(i,s){var o;while(s>i+1)o=Math.floor((i+s)/2),r.predictTextWidth(e.substr(0,o),n)>t?s=o:i=o;return i},s=i(0,e.length);return e.substr(0,s)},reverseString:function(e){return e.split("").reverse().join("")},predictTextWidth:function(e,t){if(!t||!e)return 0;var n=this.getTextBBox(e,t);return n?n.width:0},predictTextHeight:function(e,t){if(!t||!e)return 0;var n=this.getTextBBox(e,t);return n?n.height:0},getTextBBox:function(e,t){return isNaN(parseFloat(t,10))?undefined:(this.textPredicter&&this.textPredicter.destroy(),this.textPredicter=this.renderer.text(e,0,0).attr({visibility:"hidden"}).css({fontSize:t+"px"}).add(),this.textPredicter.getBBox())},adjustLabels:function(t,n,r,i,s){var o,u,a,f=e.extend(!0,[],t),l=this.getMaxWidthForFontRange(f,r,i);if(l[i]<=n)a=!1,u=i;else{a=!0;for(u=i-1;u>r;u--)if(l[u]<=n){a=!1;break}}if(a&&s!=="none")for(o=0;o<f.length;o++)f[o]=this.ellipsize(f[o],n,u,s);return{labels:f,fontSize:u,areEllipsized:a,longestWidth:l[u]}},getMaxWidthForFontRange:function(e,t,n){var r,i={};i[t]=0;for(var s=0;s<e.length;s++){var o=this.predictTextWidth(e[s]||"",t);o>i[t]&&(r=s,i[t]=o)}for(var u=t+1;u<=n;u++)i[u]=this.predictTextWidth(e[r]||"",u);return i},bBoxesOverlap:function(e,t,n,r){n=n||0,r=r||0;var i=e.x-n,s=t.x-n,o=e.x+e.width+2*n,u=t.x+t.width+2*n,a=e.y-r,f=t.y-r,l=e.y+e.height+2*r,c=t.y+t.height+2*r;return i<u&&o>s&&a<c&&l>f},destroy:function(){this.textPredicter&&(this.textPredicter.destroy(),this.textPredicter=!1)}},e.extend(n,{getElementText:function(n){return t.hasSVG?n.textStr:e(n.element).html()},setElementText:function(e,t){if(e.attr("text")===t)return;e.added=!0,e.attr({text:t})}}),n}),define("js_charting/util/lang_utils",[],function(){var e=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};return{inherit:e}}),define("js_charting/components/axes/CategoryAxis",["jquery","underscore","./Axis","../../helpers/Formatter","../../util/lang_utils","../../util/parsing_utils"],function(e,t,n,r,i,s){var o=function(e){n.call(this,e)};return i.inherit(o,n),e.extend(o.prototype,{DEFAULT_FONT_SIZE:12,MIN_FONT_SIZE:9,getConfig:function(){var r=this,i=n.prototype.getConfig.apply(this,arguments),o=s.normalizeBoolean(this.properties["axisLabels.hideCategories"]);return e.extend(!0,i,{categories:this.properties["axis.categories"],labels:{formatter:function(){return r.formatLabel(this.value)},enabled:i.labels.enabled&&!o},startOnTick:!this.hasTickmarksBetween(),showLastLabel:this.hasTickmarksBetween(),tickWidth:o?0:1,tickmarkPlacement:this.properties["axisLabels.tickmarkPlacement"],gridLineWidth:s.normalizeBoolean(this.properties["gridLines.showMajorLines"])?1:0,getOffsetPreHook:t(this.getOffsetPreHook).bind(this)}),this.hasTickmarksBetween()||(i.max=this.properties["axis.categories"].length),i},getVerticalConfig:function(){var t=n.prototype.getVerticalConfig.call(this);return e.extend(!0,t,{labels:{align:"right",x:-8}})},getHorizontalConfig:function(){var t=n.prototype.getHorizontalConfig.call(this);return e.extend(!0,t,{labels:{align:"left"},endOnTick:!this.hasTickmarksBetween(),showLastLabel:!1,startOnTick:!0})},getCategories:function(){return this.properties["axis.categories"]},getOffsetPreHook:function(t){var n=t.options,i=t.chart;if(!n.labels.enabled)return;var s,o,u,a,f,l=new r(i.renderer),c=n.categories;n.originalCategories||(n.originalCategories=e.extend([],c));if(this.isVertical){s=Math.floor(i.chartWidth/6);var h=this.fitLabelsToWidth(n,c,l,s),p=l.predictTextHeight("Test",h),d=i.plotHeight;o=d/(c.length||1),u=25,a=Math.ceil(u/o),n.labels.y=a>1?p-t.transA*t.tickmarkOffset:p/3,n.labels.step=a}else{var v,m=4,g=100,y=i.plotWidth,b=l.getMaxWidthForFontRange(c,this.MIN_FONT_SIZE,this.DEFAULT_FONT_SIZE);o=y/(c.length||1);var w=this.findBestFontForSpacing(b,o-2*m);w>0?(v=w,n.labels.style["font-size"]=v+"px",a=1,f=o):(u=Math.min(b[this.MIN_FONT_SIZE]+2*m,g),v=this.MIN_FONT_SIZE,a=Math.ceil(u/o),f=o*a,s=f-2*m,this.ellipsizeLabels(n,c,l,s,v)),n.labels.align="left",n.labels.step=a,n.tickmarkPlacement==="between"?n.labels.x=-(f/(2*a))+m:n.labels.x=m}l.destroy()},findBestFontForSpacing:function(e,n){var r=0;return t(e).each(function(e,t){e<=n&&(r=Math.max(r,parseInt(t,10)))}),r},fitLabelsToWidth:function(e,t,n,r){var i,s=n.adjustLabels(e.originalCategories,r,this.MIN_FONT_SIZE,this.DEFAULT_FONT_SIZE,"middle");for(i=0;i<s.labels.length;i++)t[i]=s.labels[i];return e.labels.style["font-size"]=s.fontSize+"px",s.fontSize},ellipsizeLabels:function(e,n,r,i,s){var o,u=t(n).map(function(e){return r.ellipsize(e,i,s,"middle")});for(o=0;o<u.length;o++)n[o]=u[o];e.labels.style["font-size"]=s+"px"},tickRenderPostHook:function(e,t,r){var i=e.axis.options;i.labels=i.labels||{};if(!i.labels.enabled)return;n.prototype.tickRenderPostHook.call(this,e,t,r);var s=e.pos+(i.tickmarkPlacement==="between"?1:0),o=i.labels.step||1;s%o!==0?e.mark.hide():e.mark.show()},formatValue:function(e){return e},formatLabel:function(e){return s.escapeSVG(e)},hasTickmarksBetween:function(){return this.properties["axisLabels.tickmarkPlacement"]==="between"},getTickLabelExtremesY:function(e){return[-e.labelBBox.height,0]}}),o}),define("js_charting/util/time_utils",["underscore","util/time_utils","splunk.i18n"],function(e,t,n){var r={SECS_PER_MIN:60,SECS_PER_HOUR:3600,convertTimeToCategories:function(t,n,r){var i,s,o,u,a,f=this.findLabelIndexes(t,r),l=[],c=[];return e(f).each(function(e){l.push(t[e])}),o=this.getPrettyLabelInfo(l),u=o.prettyLabels,e(t).each(function(e){c.push(" ")}),e(f).each(function(e,t){c[e]=u[t]}),{categories:c,rawLabels:l,granularity:o.granularity}},findLabelIndexes:function(e,t){var n,r,i=[];if(e.length<=t){n=0;while(n<e.length)i.push(n++);return i}var s=this.getPointSpan(e),o=this.getTotalSpan(e);if(this.couldLabelFirstOfMonth(s,o)){var u=this.findFirstOfMonthIndexes(e),a=u.length;if(a>=3){var f=Math.ceil(a/t),l=[];for(n=0;n<a;n+=f)r=u[n],l.push(r);return u=l,u}}var c=this.findMajorUnit(e,t,s,o),h=e.slice(0,c),p=this.getRoundestIndex(h,c,s),d=p;if(this.couldLabelMidnight(c,s)){var v=this.findMidnightIndexes(e);if(v.length>t){f=Math.ceil(v.length/t),l=[];for(n=0;n<v.length;n+=f)r=v[n],l.push(r);v=l}return v}while(d<e.length)i.push(d),d+=c;return i},couldLabelMidnight:function(e,t){return e%24===0&&t===3600},couldLabelFirstOfMonth:function(e,t){return e>this.MAX_SECS_PER_DAY?!1:e<this.SECS_PER_HOUR?!1:e<this.MIN_SECS_PER_DAY&&24*this.SECS_PER_HOUR%e!==0?!1:t<2*this.MIN_SECS_PER_MONTH?!1:!0},findMidnightIndexes:function(e){var n,r,i=[],s=[];for(n=0;n<e.length;n++)i.push(t.extractBdTime(e[n]));for(n=0;n<i.length;n++)r=i[n],r.hour===0&&r.minute===0&&s.push(n);return s},findFirstOfMonthIndexes:function(n){var r=[],i=[];return e(n).each(function(e,n){r.push(t.extractBdTime(e))}),e(r).each(function(e,t){e.day===1&&e.hour===0&&i.push(t)}),i},getPointSpan:function(e){if(e.length<2)return 1;if(e.length<4)return this.getSpanBetween(e[0],e[1]);var t=this.getSpanBetween(e[0],e[1]),n=this.getSpanBetween(e[1],e[2]),r=this.getSpanBetween(e[2],e[3]);return t===n?t:n===r?n:t===r?t:t},getTotalSpan:function(e){var n,r;for(n=e.length-1;n>=0;n--){r=e[n];if(t.isValidIsoTime(r))break}return this.getSpanBetween(e[0],r)},getSpanBetween:function(e,n){var r=t.isoToDateObject(e),i=t.isoToDateObject(n),s=i.getTime()-r.getTime();return s/1e3},MIN_SECS_PER_DAY:82800,MAX_SECS_PER_DAY:9e4,MAJOR_UNITS_SECONDS:[1,2,5,10,15,30,60,120,180,300,600,900,1800,3600,7200,14400,21600,43200,86400,172800,345600,604800],MAJOR_UNIT_DAYS:[1,2,4,7,14,28,56,112,224,364,476,728],MIN_SECS_PER_MONTH:2419200,MAJOR_UNIT_MONTHS:[1,2,4,6,12,24,48,96],findMajorUnit:function(e,t,n,r){var i,s,o;if(n<this.MIN_SECS_PER_DAY)for(i=0;i<this.MAJOR_UNITS_SECONDS.length;i++){s=this.MAJOR_UNITS_SECONDS[i],o=r/s;if(o>=3&&o<=t&&s%n===0){if(s===180&&r>=900)continue;return s/n}}else if(n<this.MIN_SECS_PER_MONTH){var u=86400,a=Math.round(n/u),f=Math.round(r/u);for(i=0;i<this.MAJOR_UNIT_DAYS.length;i++){s=this.MAJOR_UNIT_DAYS[i],o=f/s;if(o>=3&&o<=t&&s%a===0)return s/a}}else{var l=2592e3,c=Math.round(n/l),h=Math.round(r/l);for(i=0;i<this.MAJOR_UNIT_MONTHS.length;i++){s=this.MAJOR_UNIT_MONTHS[i],o=h/s;if(o>=3&&o<=t&&s%c===0)return s/c}}return Math.ceil(e.length/t)},getRoundestIndex:function(n,r,i){var s,o,u,a=[],f=r*i;e(n).each(function(e){a.push(t.extractBdTime(e))}),o=a[0],u=0;for(s=1;s<a.length;s++)this.isRounderThan(a[s],o,i)&&this.bdTimeMatchesUnit(a[s],f)&&(o=a[s],u=s);return u},isRounderThan:function(e,t,n){return e.month===1&&e.day===1&&e.hour===0&&t.month!==1&&t.day===1&&t.hour===0?!0:e.hour===0&&t.hour!==0?!0:e.hour%12===0&&t.hour%12!==0?!0:e.hour%6===0&&t.hour%6!==0?!0:e.hour%4===0&&t.hour%4!==0?!0:e.hour%2===0&&t.hour%2!==0?!0:e.minute===0&&t.minute!==0?!0:e.minute%30===0&&t.minute%30!==0?!0:e.minute%15===0&&t.minute%15!==0?!0:e.minute%10===0&&t.minute%10!==0?!0:e.minute%5===0&&t.minute%5!==0?!0:e.minute%2===0&&t.minute%2!==0?!0:e.second===0&&t.second!==0?!0:e.second%30===0&&t.second%30!==0?!0:e.second%15===0&&t.second%15!==0?!0:e.second%10===0&&t.second%10!==0?!0:e.second%5===0&&t.second%5!==0?!0:e.second%2===0&&t.second%2!==0?!0:!1},bdTimeMatchesUnit:function(e,t){if(t<60)return e.second%t===0;if(t<3600){var n=Math.floor(t/60);return e.minute%n===0}var r=Math.floor(t/3600);return e.hour%r===0},getPrettyLabelInfo:function(n){var r,i,s=[],o=[];e(n).each(function(e){s.push(t.extractBdTime(e))});var u=t.determineLabelGranularity(s);for(r=0;r<s.length;r++)r===0?o.push(this.formatBdTimeAsAxisLabel(s[r],null,u).join("<br/>")):o.push(this.formatBdTimeAsAxisLabel(s[r],s[r-1],u).join("<br/>"));return{prettyLabels:o,granularity:u}},formatBdTimeAsAxisLabel:function(e,r,i){if(e.isInvalid)return null;var s=t.bdTimeToDateObject(e),o=i in{second:!0,minute:!0,hour:!0,day:!0},u=i in{second:!0,minute:!0,hour:!0},a=i==="second",f=a?"medium":"short",l=o?"ccc MMM d":"MMMM";if(i==="year")return[n.format_date(s,"YYYY")];if(r&&r.year===e.year&&e.month===r.month&&e.day===r.day)return[n.format_time(s,f)];var c=u?[n.format_time(s,f),n.format_date(s,l)]:[n.format_date(s,l)];return(!r||e.year!==r.year)&&c.push(n.format_date(s,"YYYY")),c},formatIsoStringAsTooltip:function(e,r){var i=t.extractBdTime(e),s;return i.isInvalid?null:(s=t.bdTimeToDateObject(i),r>=this.MIN_SECS_PER_DAY?n.format_date(s):r>=this.SECS_PER_MIN?n.format_datetime(s,"medium","short"):n.format_datetime(s))}};return r}),define("js_charting/components/axes/TimeAxis",["jquery","underscore","./Axis","./CategoryAxis","../../helpers/Formatter","../../util/lang_utils","util/time_utils","../../util/time_utils","../../util/dom_utils"],function(e,t,n,r,i,s,o,u,a){var f=function(e){this.originalCategories=e["axis.categories"],this.spanData=e["axis.spanData"];var t=u.convertTimeToCategories(this.originalCategories,this.spanData,this.NUM_LABEL_CUTOFF);this.granularity=t.granularity,this.pointSpan=u.getPointSpan(this.originalCategories),e["axis.categories"]=t.categories,r.call(this,e)};return s.inherit(f,r),e.extend(f.prototype,{NUM_LABEL_CUTOFF:6,getConfig:function(){var n=r.prototype.getConfig.call(this);return e.extend(!0,n,{showLastLabel:!0,setTickPositionsPostHook:t(this.setTickPositionsPostHook).bind(this)}),n},formatLabel:function(e){return e},formatValue:function(e){return u.formatIsoStringAsTooltip(e,this.pointSpan)||"Invalid timestamp"},getOffsetPreHook:function(e){var t=e.options,n=e.chart,r=t.categories,i=this.isVertical?2:3,s=this.isVertical?n.plotHeight:n.plotWidth,o=r.length>1?s/r.length:s+i*2;t.adjustedTickSpacing=o;if(this.isVertical){var u=parseInt(t.labels.style.fontSize.split("px")[0],10);t.labels.y=o/2+u+i}else t.tickmarkPlacement==="on"?(t.labels.align="left",t.labels.x=i):(t.labels.align="left",t.labels.x=o/2+i)},setTickPositionsPostHook:function(t,n){var r=t.options,i=r.categories;t.tickPositions=[],r.originalCategories||(r.originalCategories=e.extend(!0,[],i));var s,o=r.originalCategories;for(s=0;s<o.length;s++)o[s]&&o[s]!==" "&&(r.tickmarkPlacement==="on"?t.tickPositions.push(s):(t.tickPositions.push(s-1),i[s-1]=o[s]));r.labels.style.width="auto",a.hasSVG||(r.labels.style["white-space"]="nowrap")},tickHandleOverflowOverride:function(e,t,n){return t===1?(this.collisionDetected=!1,this.lastTickFits=!0,!0):e.isFirst?(e.isLast||(this.collisionDetected=this.collisionDetected||this.tickOverlapsNext(e,t,n)),this.resolveCollisionDetection(e.axis,this.collisionDetected,this.lastTickFits),!0):(this.collisionDetected=this.collisionDetected||this.tickOverlapsPrevious(e,t,n),e.isLast&&(this.lastTickFits=r.prototype.tickHandleOverflowOverride.call(this,e,t,n)),!0)},tickOverlapsPrevious:function(e,t,n){var r=e.axis,i=r.ticks[r.tickPositions[t-1]],s=i.getPosition(r.horiz,i.pos,r.tickmarkOffset);if(this.isVertical){var o=s.y+this.getTickLabelExtremesY(i)[1];return n.y<o}var u=s.x+this.getTickLabelExtremesX(i)[1];return n.x<u},tickOverlapsNext:function(e,t,n){var r=e.axis,i=r.ticks[r.tickPositions[t+1]],s=i.getPosition(r.horiz,i.pos,r.tickmarkOffset);if(!i)return!1;if(this.isVertical){var o=n.y+this.getTickLabelExtremesY(e)[1];return o>s.y}var u=n.x+this.getTickLabelExtremesX(e)[1];return u>s.x},resolveCollisionDetection:function(e,n,r){var s=new i(e.chart.renderer),a=e.tickPositions,f=a.slice(1),l=e.ticks,c=this.originalCategories,h=this.granularity,p=this.hasTickmarksBetween()?1:0;n?t(f).each(function(e,t){t++;var n=l[e];if(t%2===0){var r=o.extractBdTime(c[n.pos+p]),i=l[a[t-2]],s=o.extractBdTime(c[i.pos+p]),f=(u.formatBdTimeAsAxisLabel(r,s,h)||[""]).join("<br/>");n.label.attr({text:f})}else n.label.hide(),n.mark.hide()}):t(f).each(function(e,t){t++;var n=l[e];n.label.show(),n.mark.show();if(t%2===0){var r=o.extractBdTime(c[e+p]),i=l[a[t-1]],s=o.extractBdTime(c[i.pos+p]),f=(u.formatBdTimeAsAxisLabel(r,s,h)||[""]).join("<br/>");n.label.attr({text:f})}}),!r&&(!n||a.length%2!==0)&&e.ticks[t(a).last()].label.hide(),s.destroy()},getTickLabelExtremesX:function(e){var n=r.prototype.getTickLabelExtremesX.call(this,e),i=e.axis.options;return i.tickmarkPlacement==="between"?t(n).map(function(e){return e-i.adjustedTickSpacing/2}):n},getTickLabelExtremesY:function(e){return n.prototype.getTickLabelExtremesY.apply(this,arguments)}}),f}),define("js_charting/components/axes/NumericAxis",["jquery","underscore","./Axis","../../helpers/Formatter","../../util/parsing_utils","../../util/lang_utils","../../util/math_utils","splunk.i18n"],function(e,t,n,r,i,s,o,u){var a=function(e){n.call(this,e),this.includeZero=i.normalizeBoolean(this.properties["axis.includeZero"])};return s.inherit(a,n),e.extend(a.prototype,{getConfig:function(){var r=n.prototype.getConfig.call(this),s=i.normalizeBoolean(this.properties["axisLabels.extendsAxisRange"],!0);return e.extend(r,{tickInterval:this.properties.isEmpty&&this.properties["axis.scale"]==="log"?10:this.properties.isEmpty?10:parseInt(this.properties["axisLabels.majorUnit"],10)||null,endOnTick:s,startOnTick:s,allowDecimals:!i.normalizeBoolean(this.properties["axisLabels.integerUnits"]),minorTickColor:this.properties["axis.foregroundColorSoft"],minorTickLength:parseInt(this.properties["axisLabels.minorTickSize"],10)||10,minorTickInterval:"auto",minorTickWidth:this.properties["axisLabels.minorTickVisibility"]==="show"?1:0,minorGridLineWidth:i.normalizeBoolean(this.properties["gridLines.showMinorLines"])?1:0,min:this.properties.isEmpty?0:null,max:this.properties.isEmpty&&this.properties["axis.scale"]==="log"?2:this.properties.isEmpty?100:null,gridLineWidth:i.normalizeBoolean(this.properties["gridLines.showMajorLines"],!0)?1:0,getSeriesExtremesPostHook:t(this.getSeriesExtremesPostHook).bind(this)}),this.addMinAndMaxToConfig(r),r},addMinAndMaxToConfig:function(e){var t=this.properties.hasOwnProperty("axis.minimumNumber")?parseFloat(this.properties["axis.minimumNumber"]):-Infinity,n=this.properties.hasOwnProperty("axis.maximumNumber")?parseFloat(this.properties["axis.maximumNumber"]):Infinity;if(t>n){var r=t;t=n,n=r}t>-Infinity&&this.addMinToConfig(e,t,this.includeZero),n<Infinity&&this.addMaxToConfig(e,n,this.includeZero)},addMinToConfig:function(e,t,n){n&&t>0?t=0:this.isLogScale()&&(t=o.absLogBaseTen(t)),e.min=t,e.minPadding=0,e.startOnTick=!1},addMaxToConfig:function(e,t,n){n&&t<0?t=0:this.isLogScale()&&(t=o.absLogBaseTen(t)),e.max=t,e.maxPadding=0,e.endOnTick=!1},getVerticalConfig:function(){var t=n.prototype.getVerticalConfig.call(this);return e.extend(!0,t,{labels:{y:13}})},getHorizontalConfig:function(){var t=n.prototype.getHorizontalConfig.call(this);return e.extend(!0,t,{labels:{align:"left",x:4}})},formatLabel:function(e){return this.isLogScale()?this.properties.stackMode==="stacked100"?u.format_decimal(e.value):u.format_decimal(o.absPowerTen(e.value)):u.format_decimal(e.value)},formatValue:function(e){var t=u.format_decimal(e);return t!=="NaN"?t:u.format_decimal("0")},isLogScale:function(){return this.properties["axis.scale"]==="log"},getSeriesExtremesPostHook:function(e){var t=e.options,n=e.getExtremes(),i=e.chart;if(!this.properties.isEmpty){var s=new r(i.renderer);n.min=t.min||n.dataMin,n.max=t.max||n.dataMax;var o=Math.abs(n.max-n.min),u=t.tickInterval||t.tickPixelInterval/i.plotHeight*o;this.isLogScale()?this.formatLogAxes(t,n):this.checkMajorUnitFit(u,n,t,s,i),this.includeZero?this.enforceIncludeZero(t,n):this.adjustAxisRange(t,n,u),t.allowDecimals!==!1&&this.enforceIntegerMajorUnit(t,n),s.destroy()}},formatLogAxes:function(e,t){var n=Math.ceil(t.min),r=e.endOnTick?Math.ceil(t.max):t.max;Math.abs(r-n)>=1?e.tickInterval=1:e.tickInterval=null},checkMajorUnitFit:function(e,t,n,r,i){var s=Math.abs(t.max-t.min),o=this.isVertical?i.plotHeight:i.plotWidth,u=e*o/s,a=Math.max(Math.abs(t.min),Math.abs(t.max)),f=this.isVertical?5:15,l=parseInt(n.labels.style.fontSize.split("px")[0],10),c=function(e){return e*s/o};if(this.isVertical){var h=r.predictTextHeight(a,l);u<h+2*f&&(n.tickInterval=Math.ceil(c(h+2*f,!0)))}else{var p=r.predictTextWidth(a,l);u<p+2*f&&(n.tickInterval=Math.ceil(c(p+2*f,!0)))}},enforceIncludeZero:function(e,t){if(!t.min&&!t.max){this.handleNoData(e);return}t.min>=0?(e.min=0,e.minPadding=0):t.max<=0&&(e.max=0,e.maxPadding=0)},adjustAxisRange:function(e,t,n){var r=e.min!==null,i=e.max!==null;if(!t.min&&!t.max){this.handleNoData(e);return}if(t.min>t.dataMax&&t.min>0&&!i){e.max=this.isLogScale()?t.min+2:t.min*2;return}if(t.max<t.dataMin&&t.max<0&&!r){e.min=this.isLogScale()?t.max-2:t.max*2;return}t.dataMin>=0&&t.dataMin<=n&&(r||(e.min=0),e.minPadding=0),t.dataMax<=0&&t.dataMax>=-1*n&&(i||(e.max=0),e.maxPadding=0)},handleNoData:function(e){var t=this.isLogScale();e.min=0,e.max=t?2:100,t&&(e.tickInterval=1)},enforceIntegerMajorUnit:function(e,t){var n=t.max-t.min;n>=10&&(e.allowDecimals=!1)}}),a}),define("js_charting/helpers/HoverEventThrottler",["jquery"],function(e){var t=function(e){e=e||{},this.highlightDelay=e.highlightDelay||200,this.unhighlightDelay=e.unhighlightDelay||100,this.timer=null,this.timer2=null,this.mouseStatus="over",this.isSelected=!1,this.onMouseOver=e.onMouseOver,this.onMouseOut=e.onMouseOut};return e.extend(t.prototype,{setMouseStatus:function(e){this.mouseStatus=e},getMouseStatus:function(){return this.mouseStatus},mouseOverHappened:function(e){var t=this,n=arguments;this.mouseOverFn=function(){t.onMouseOver.apply(null,n)},clearTimeout(this.timer),clearTimeout(this.timer2),this.setMouseStatus("over"),this.timeOutManager()},mouseOutHappened:function(e){var t=this,n=arguments;this.mouseOutFn=function(){t.onMouseOut.apply(null,n)},this.setMouseStatus("out"),this.timeOutManager()},timeOutManager:function(){var e=this;clearTimeout(this.timer),this.isSelected?this.getMouseStatus()==="over"?this.mouseEventManager():this.timer2=setTimeout(function(){e.setMouseStatus("out"),e.mouseEventManager()},e.unhighlightDelay):this.timer=setTimeout(function(){e.isSelected=!0,e.mouseEventManager()},e.highlightDelay)},mouseEventManager:function(){var e=this;this.getMouseStatus()==="over"?(this.mouseOverFn(),this.isSelected=!0,this.setMouseStatus("out")):(this.mouseOutFn(),this.isSelected=!1,this.setMouseStatus("over"))}}),t}),define("js_charting/components/Legend",["jquery","underscore","../helpers/EventMixin","../helpers/Formatter","../helpers/HoverEventThrottler","../util/parsing_utils","../util/color_utils","../util/dom_utils"],function(e,t,n,r,i,s,o,u){var a=function(e){this.properties=e||{},this.clickEnabled=s.normalizeBoolean(this.properties.clickEnabled),this.ellipsisMode=this.OVERFLOW_TO_ELLIPSIS_MAP[this.properties["labelStyle.overflowMode"]]||this.DEFAULT_ELLIPSIS_MODE,this.UNHIGHLIGHTED_COLOR=o.addAlphaToColor(this.UNHIGHLIGHTED_BASE_COLOR,this.UNHIGHLIGHTED_OPACITY)};return a.prototype=e.extend({},n,{HIGHLIGHTED_OPACITY:1,UNHIGHLIGHTED_OPACITY:.3,UNHIGHLIGHTED_BASE_COLOR:"rgb(150, 150, 150)",DEFAULT_PLACEMENT:"right",DEFAULT_ELLIPSIS_MODE:"middle",BASE_CONFIG:{borderWidth:0},PLACEMENT_OPTIONS:{top:!0,left:!0,bottom:!0,right:!0,none:!0},PLACEMENT_TO_MARGIN_MAP:{top:30,left:15,bottom:15,right:15},OVERFLOW_TO_ELLIPSIS_MAP:{ellipsisStart:"start",ellipsisMiddle:"middle",ellipsisEnd:"end",ellipsisNone:"none","default":"start"},getConfig:function(){var n=this.PLACEMENT_OPTIONS.hasOwnProperty(this.properties.placement)?this.properties.placement:this.DEFAULT_PLACEMENT,r={left:!0,right:!0}.hasOwnProperty(n),i=this.clickEnabled?"pointer":"auto";return e.extend(!0,{},this.BASE_CONFIG,{enabled:this.properties.isEmpty?!1:!0,align:r?n:"center",verticalAlign:r?"middle":n,layout:r?"vertical":"horizontal",margin:this.PLACEMENT_TO_MARGIN_MAP[n],itemStyle:{cursor:i,color:this.properties.fontColor||"#000000"},itemHoverStyle:{cursor:i,color:this.properties.fontColor||"#000000"},renderItemsPreHook:t(this.renderItemsPreHook).bind(this),renderItemsPostHook:t(this.renderItemsPostHook).bind(this)})},onChartLoad:function(e){this.hcSeriesList=t(e.series).filter(function(e){return e.options.showInLegend!==!1}),this.addEventHandlers()},addEventHandlers:function(){var n=this,r={highlightDelay:125,unhighlightDelay:50,onMouseOver:function(e){n.selectField(e),n.trigger("mouseover",[e])},onMouseOut:function(e){n.unSelectField(e),n.trigger("mouseout",[e])}},s=new i(r);t(this.hcSeriesList).each(function(r){var i=r.name;t(this.getSeriesLegendObjects(r)).each(function(t){u.jQueryOn.call(e(t.element),"mouseover",function(){s.mouseOverHappened(i)}),u.jQueryOn.call(e(t.element),"mouseout",function(){s.mouseOutHappened(i)}),this.clickEnabled&&u.jQueryOn.call(e(t.element),"click",function(e){var t={type:"click",modifierKey:e.ctrlKey||e.metaKey};n.trigger(t,[i])})},this)},this)},selectField:function(e){t(this.hcSeriesList).each(function(t){t.name!==e?this.unHighlightField(e,t):this.highlightField(e,t)},this)},unSelectField:function(e){t(this.hcSeriesList).each(function(t){t.name!==e&&this.highlightField(e,t)},this)},highlightField:function(e,t){t=t||this.getSeriesByFieldName(e);var n=this.getSeriesLegendObjects(t),r=t.color;n.item&&n.item.attr("fill-opacity",this.HIGHLIGHTED_OPACITY),n.line&&n.line.attr("stroke",r),n.symbol&&n.symbol.attr({fill:r,stroke:r})},unHighlightField:function(e,t){t=t||this.getSeriesByFieldName(e);var n=this.getSeriesLegendObjects(t);n.item&&n.item.attr("fill-opacity",this.UNHIGHLIGHTED_OPACITY),n.line&&n.line.attr("stroke",this.UNHIGHLIGHTED_COLOR),n.symbol&&n.symbol.attr({fill:this.UNHIGHLIGHTED_COLOR,stroke:this.UNHIGHLIGHTED_COLOR})},getSeriesByFieldName:function(e){return t(this.hcSeriesList).find(function(t){return t.name===e})},getSeriesLegendObjects:function(e){var t={};return e.legendItem&&(t.item=e.legendItem),e.legendSymbol&&(t.symbol=e.legendSymbol),e.legendLine&&(t.line=e.legendLine),t},destroy:function(){this.off(),this.hcSeriesList=null},renderItemsPreHook:function(e){var t,n,i,o,a=e.options,f=e.itemStyle,l=e.allItems,c=e.chart,h=c.renderer,p=c.spacingBox,d=a.layout==="horizontal",v=12,m=10,g=a.symbolWidth,y=a.symbolPadding,b=e.padding||0,w=10,E=[],S=new r(h);d?o=l.length>5?Math.floor(p.width/6):Math.floor(p.width/l.length)-(g+y+w)*(l.length-1):o=Math.floor(p.width/6)-(g+y+b),a.originalFormatter||(a.originalFormatter=a.labelFormatter);for(t=0;t<l.length;t++)E.push(a.originalFormatter.call(l[t]));n=S.adjustLabels(E,o,m,v,this.ellipsisMode),n.areEllipsized&&d&&l.length>5?(i=o+g+y+w,a.itemWidth=i):a.itemWidth=undefined;for(t=0;t<l.length;t++)l[t].ellipsizedName=n.labels[t],l[t].legendItem&&(u.setLegendItemText(l[t].legendItem,n.labels[t]),l[t].legendItem.css({"font-size":n.fontSize+"px"}));a.labelFormatter=function(){return s.escapeSVG(this.ellipsizedName)},f["font-size"]=n.fontSize+"px",S.destroy()},renderItemsPostHook:function(t){var n=55,r=t.options,i=t.padding,s=t.lastItemY+t.lastLineHeight,o=t.chart.spacingBox.height-i;if(s>o)r.verticalAlign="top",r.y=-i,t.offsetWidth<n&&(r.width=n);else{var u=this.getConfig();e.extend(r,{verticalAlign:u.verticalAlign,y:u.y,width:u.width})}}}),a}),define("js_charting/components/PanningScrollbar",["jquery","underscore","../helpers/EventMixin"],function(e,t,n){var r=function(e){this.properties=e||{}};return r.prototype=e.extend({},n,{onChartLoad:function(e){var t=this.getParentElement(this.properties.container);this.createPanningSlider(t,e),this.setSliderPosition(e),this.addEventHandlers(e)},onChartLoadOrResize:function(e){this.setSliderPosition(e)},getParentElement:function(t){return e(t).parent()},createPanningSlider:function(t){var n=e(".panning");n.length>0||(e(t).after('<div class="panning"></div>'),n.append('<div id="panning-slider"></div>'))},addEventHandlers:function(){var n=this,r=e(".panning"),i=50,s=function(){n.setWindowToDisplay(n.pixelToWindowValue(r)),n.trigger("scroll",n.getWindowToDisplay())};e(r).bind("scroll",t.throttle(s,i))},setSliderPosition:function(t){var n=Math.ceil(this.properties.truncationLimit/this.properties.numSeries),r=this.properties.seriesSize-n;this.numWindows=Math.ceil(r/n),this.numberOfWindows=Math.ceil(r-n),e(".panning").css({width:t.plotWidth+"px","margin-left":t.plotLeft+"px","margin-top":"2px",overflow:"scroll","z-index":"100",display:"inline-block"}),e("#panning-slider").css({width:this.numWindows*100+"%",height:"2px"})},pixelToWindowValue:function(t){var n,r,i;return r=e("#panning-slider").width(),i=r/this.numberOfWindows,n=e(t).scrollLeft()+i/2,Math.floor(n/i)},destroy:function(){this.off()},setWindowToDisplay:function(e){this.windowToDisplay=e},getWindowToDisplay:function(){return this.windowToDisplay}}),r}),define("js_charting/components/Tooltip",["jquery","underscore"],function(e,t){var n=function(e){this.properties=e||{}};return n.prototype={BASE_CONFIG:{animation:!1,enabled:!0,backgroundColor:"#000000",borderColor:"#ffffff",style:{color:"#cccccc"},positioner:function(e,t,n){var r=this.getPosition(e,t,n),i=this.chart.plotWidth;if(e>i){var s=this.options;r.x=s.borderRadius+s.borderWidth}return r},getAnchorPostHook:function(e,n,r){return e&&!t.isArray(e)&&e.series.options.type==="column"&&(r[0]=e.barX),r}},getConfig:function(){return e.extend(!0,{},this.BASE_CONFIG,{borderColor:this.properties.borderColor})}},n}),define("js_charting/series/Series",["jquery","underscore","../helpers/EventMixin","../util/color_utils","../util/parsing_utils"],function(e,t,n,r,i){var s=function(e){this.index=e.index,this.seriesName=e.series.name,this.name=e.name,this.y=e.y},o=function(e){this.properties=this.normalizeProperties(e||{}),this.id=t.uniqueId("series_"),this.data=[],this.UNHIGHLIGHTED_COLOR=r.addAlphaToColor(this.UNHIGHLIGHTED_BASE_COLOR,this.UNHIGHLIGHTED_OPACITY)};return o.prototype=e.extend({},n,{STACK_MODE_MAP:{"default":null,stacked:"normal",stacked100:"percent"},CHART_PROPERTY_PREFIX_REGEX:/^chart\./,UNHIGHLIGHTED_OPACITY:.3,UNHIGHLIGHTED_BASE_COLOR:"rgb(150, 150, 150)",DEFAULT_STACK_MODE:null,CHARTING_PROPERTY_WHITELIST:[],normalizeProperties:function(n){var r=e.extend(!0,{},n);return t(r).each(function(e,n){if(this.CHART_PROPERTY_PREFIX_REGEX.test(n)){delete r[n];var i=n.replace(this.CHART_PROPERTY_PREFIX_REGEX,"");t(this.CHARTING_PROPERTY_WHITELIST).contains(i)&&(r[i]=e)}},this),r},getXAxisIndex:function(){return this.properties.xAxis||0},setXAxisIndex:function(e){this.properties.xAxis=e},getYAxisIndex:function(){return this.properties.yAxis||0},setYAxisIndex:function(e){this.properties.yAxis=e},getName:function(){return this.properties.name},getLegendKey:function(){return this.properties.legendKey||this.getName()},getFieldList:function(){return[this.getName()]},matchesName:function(e){return e===this.getName()},setData:function(e){t(e.x).isUndefined()?this.data=e.y:this.data=t(e.x).map(function(t,n){return[t,e.y[n]]})},sliceData:function(e,t,n){e.data=e.data.slice(t,n)},applyColorMapping:function(e){this.color=e[this.getName()]},getColor:function(){return this.color},getStackMode:function(){return this.STACK_MODE_MAP[this.properties.stacking]||this.DEFAULT_STACK_MODE},getType:function(){return this.type},getConfig:function(){var e=this,t={type:this.type,id:this.id,name:this.getName(),color:this.color,data:this.data,xAxis:this.getXAxisIndex(),yAxis:this.getYAxisIndex(),stacking:this.getStackMode(),point:{events:{mouseOver:function(t){var n=this,r=new s(n);e.trigger("mouseover",[r,e])},mouseOut:function(t){var n=this,r=new s(n);e.trigger("mouseout",[r,e])}}}};return i.normalizeBoolean(this.properties.clickEnabled)&&(t.point.events.click=function(t){var n=this,r=new s(n),i={type:"click",modifierKey:t.ctrlKey||t.metaKey};e.trigger(i,[r,e])}),t},onChartLoad:function(e){this.hcSeries=e.get(this.id),t(this.hcSeries.data).each(function(e,t){e.index=t}),this.hcSeries.splSeries=this},destroy:function(){this.off(),this.hcSeries.splSeries&&(this.hcSeries.splSeries=null),this.hcSeries=null},handlePointMouseOver:function(e){this.bringToFront()},handleLegendMouseOver:function(e){this.bringToFront(),this.highlight()},bringToFront:function(){this.hcSeries.group&&this.hcSeries.group.toFront(),this.hcSeries.trackerGroup&&this.hcSeries.trackerGroup.toFront()},getTooltipHtml:function(e){return e.seriesName=this.getName(),e.seriesColor=this.getColor(),t(this.tooltipTemplate).template(e)},handlePointMouseOut:function(e){},handleLegendMouseOut:function(e){},highlight:function(){},unHighlight:function(){},tooltipTemplate:'            <table class="highcharts-tooltip">                <% if(xAxisIsTime) { %>                    <tr>                        <td style="color: #ffffff;" colpsan="2" style="text-align: left"><%= xValueDisplay %></td>                    </tr>                <% } else { %>                    <tr>                        <td style="text-align: left; color: #cccccc;"><%= xAxisName %>:&nbsp;&nbsp;</td>                        <td style="text-align: right; color: #ffffff;"><%= xValueDisplay %></td>                    </tr>                <% } %>                    <tr>                        <td style="text-align: left; color:<%= seriesColor %>;"><%= seriesName %>:&nbsp;&nbsp;</td>                        <td style="text-align: right; color: #ffffff;"><%= yValueDisplay %></td>                    </tr>            </table>        '}),o.Point=s,o}),define("js_charting/series/ManyShapeSeries",["jquery","underscore","./Series","../util/lang_utils","../util/color_utils"],function(e,t,n,r,i){var s=function(e){n.call(this,e),this.UNHIGHLIGHTED_BORDER_COLOR=i.addAlphaToColor(this.UNHIGHLIGHTED_BORDER_BASE_COLOR,this.UNHIGHLIGHTED_OPACITY)};return r.inherit(s,n),e.extend(s.prototype,{CHARTING_PROPERTY_WHITELIST:t.union(["seriesSpacing"],n.prototype.CHARTING_PROPERTY_WHITELIST),UNHIGHLIGHTED_BORDER_BASE_COLOR:"rgb(200, 200, 200)",DEFAULT_COLUMN_SPACING:.01,DEFAULT_COLUMN_GROUP_SPACING:.05,DEFAULT_BAR_SPACING:.02,DEFAULT_BAR_GROUP_SPACING:.05,handlePointMouseOver:function(e){n.prototype.handlePointMouseOver.call(this,e),this.selectPoint(e)},handlePointMouseOut:function(e){n.prototype.handlePointMouseOut.call(this,e),this.unSelectPoint(e)},highlight:function(){n.prototype.highlight.call(this),t(this.hcSeries.data).each(this.highlightPoint,this)},unHighlight:function(){n.prototype.unHighlight.call(this),t(this.hcSeries.data).each(this.unHighlightPoint,this)},selectPoint:function(e){var n=this.hcSeries.data[e.index];this.highlightPoint(n),t(this.hcSeries.data).chain().without(n).each(this.unHighlightPoint,this)},unSelectPoint:function(e){var n=this.hcSeries.data[e.index];t(this.hcSeries.data).chain().without(n).each(this.highlightPoint,this)},highlightPoint:function(e){if(!e.graphic)return;var t=this.getColor();e.graphic.attr({fill:t,"stroke-width":0,stroke:t})},unHighlightPoint:function(e){if(!e.graphic)return;e.graphic.attr({fill:this.UNHIGHLIGHTED_COLOR,"stroke-width":1,stroke:this.UNHIGHLIGHTED_BORDER_COLOR})},computeColumnSpacing:function(e){var n=parseFloat(e);return t(n).isNaN()?this.DEFAULT_COLUMN_SPACING:n*this.DEFAULT_COLUMN_SPACING},computeColumnGroupSpacing:function(e){var n=parseFloat(e);return t(n).isNaN()?this.DEFAULT_COLUMN_GROUP_SPACING:this.DEFAULT_COLUMN_GROUP_SPACING*(1+n)},computeBarSpacing:function(e){var n=parseFloat(e);return t(n).isNaN()?this.DEFAULT_BAR_SPACING:n*this.DEFAULT_BAR_SPACING},computeBarGroupSpacing:function(e){var n=parseFloat(e);return t(n).isNaN()?this.DEFAULT_BAR_GROUP_SPACING:this.DEFAULT_BAR_GROUP_SPACING*(1+n)}}),s}),define("js_charting/series/ColumnSeries",["jquery","underscore","./ManyShapeSeries","../util/lang_utils"],function(e,t,n,r){var i=function(e){n.call(this,e)};return r.inherit(i,n),e.extend(i.prototype,{CHARTING_PROPERTY_WHITELIST:t.union(["columnSpacing"],n.prototype.CHARTING_PROPERTY_WHITELIST),type:"column",getConfig:function(){var e=n.prototype.getConfig.call(this);return e.pointPadding=this.computeColumnSpacing(this.properties.columnSpacing),e.groupPadding=this.computeColumnGroupSpacing(this.properties.seriesSpacing),e}}),i}),define("js_charting/series/BarSeries",["jquery","underscore","./ManyShapeSeries","../util/lang_utils"],function(e,t,n,r){var i=function(e){n.call(this,e)};return r.inherit(i,n),e.extend(i.prototype,{CHARTING_PROPERTY_WHITELIST:t.union(["barSpacing"],n.prototype.CHARTING_PROPERTY_WHITELIST),type:"bar",getConfig:function(){var e=n.prototype.getConfig.call(this);return e.pointPadding=this.computeBarSpacing(this.properties.barSpacing),e.groupPadding=this.computeBarGroupSpacing(this.properties.seriesSpacing),e}}),i}),define("js_charting/series/SingleShapeSeries",["jquery","underscore","./Series","../util/lang_utils"],function(e,t,n,r){var i=function(e){n.call(this,e)};return r.inherit(i,n),e.extend(i.prototype,{CHARTING_PROPERTY_WHITELIST:t.union(["lineStyle","nullValueMode"],n.prototype.CHARTING_PROPERTY_WHITELIST),HIGHLIGHTED_OPACITY:1,getConfig:function(){var e=n.prototype.getConfig.call(this);return e.dashStyle=this.properties.lineStyle==="dashed"?"Dash":"Solid",e.pointPlacement="on",e.drawPointsPreHook=t(this.drawPointsPreHook).bind(this),e},handlePointMouseOver:function(e){n.prototype.handlePointMouseOver.call(this,e),this.highlight()},drawPointsPreHook:function(e){if(e.options.marker&&e.options.marker.enabled)return;var t,n,r=e.segments;for(t=0;t<r.length;t++)n=r[t],n.length===1&&n[0].update({marker:{enabled:!0,radius:4}},!1)}}),i}),define("js_charting/series/LineSeries",["jquery","underscore","./SingleShapeSeries","../util/lang_utils","../util/parsing_utils"],function(e,t,n,r,i){var s=function(e){n.call(this,e)};return r.inherit(s,n),e.extend(s.prototype,{CHARTING_PROPERTY_WHITELIST:t.union(["showMarkers"],n.prototype.CHARTING_PROPERTY_WHITELIST),type:"line",onChartLoad:function(e){n.prototype.onChartLoad.call(this,e),this.hasMarkers=this.hcSeries.options.marker.enabled&&this.hcSeries.options.marker.radius>0},highlight:function(){n.prototype.highlight.call(this);var e=this.getColor();this.hcSeries.graph.attr({stroke:e,"stroke-opacity":this.HIGHLIGHTED_OPACITY}),t(this.hcSeries.data).each(this.highlightPoint,this)},unHighlight:function(){n.prototype.unHighlight.call(this),this.hcSeries.graph.attr("stroke",this.UNHIGHLIGHTED_COLOR),t(this.hcSeries.data).each(this.unHighlightPoint,this)},highlightPoint:function(e){var t=this.getColor();e.graphic&&e.graphic.attr("fill",t)},unHighlightPoint:function(e){e.graphic&&e.graphic.attr("fill",this.UNHIGHLIGHTED_COLOR)},getConfig:function(){var t=n.prototype.getConfig.call(this);return t.connectNulls=this.properties.nullValueMode==="connect",e.extend(t,{marker:{},stacking:this.STACK_MODE_MAP["default"]}),t.marker.enabled=i.normalizeBoolean(this.properties.showMarkers,!1),t}}),s}),define("js_charting/series/AreaSeries",["jquery","underscore","./SingleShapeSeries","../util/lang_utils","../util/color_utils","../util/parsing_utils"],function(e,t,n,r,i,s){var o=function(e){n.call(this,e),this.UNHIGHLIGHTED_LINE_COLOR=i.addAlphaToColor(this.UNHIGHLIGHTED_BASE_COLOR,this.UNHIGHLIGHTED_LINE_OPACITY)};return r.inherit(o,n),e.extend(o.prototype,{HIGHLIGHTED_OPACITY:.75,UNHIGHLIGHTED_LINE_OPACITY:.4,CHARTING_PROPERTY_WHITELIST:t.union(["showLines"],n.prototype.CHARTING_PROPERTY_WHITELIST),type:"area",getConfig:function(){var e=n.prototype.getConfig.call(this);return e.fillOpacity=this.HIGHLIGHTED_OPACITY,e.connectNulls=this.properties.nullValueMode==="connect",e.lineWidth=s.normalizeBoolean(this.properties.showLines,!0)?1:0,e},onChartLoad:function(e){n.prototype.onChartLoad.call(this,e),this.hasLines=this.hcSeries.options.lineWidth>0,this.hcSeries.area.attr("fill-opacity",this.HIGHLIGHTED_OPACITY)},highlight:function(){n.prototype.highlight.call(this);var e=this.getColor();this.hcSeries.area.attr({fill:e,"fill-opacity":this.HIGHLIGHTED_OPACITY}),this.hasLines&&this.hcSeries.graph.attr({stroke:e,"stroke-opacity":1})},unHighlight:function(){n.prototype.unHighlight.call(this),this.hcSeries.area.attr("fill",this.UNHIGHLIGHTED_COLOR),this.hasLines&&this.hcSeries.graph.attr("stroke",this.UNHIGHLIGHTED_LINE_COLOR)}}),o}),define("js_charting/series/PieSeries",["jquery","underscore","./ManyShapeSeries","../util/lang_utils","../util/parsing_utils","splunk.i18n"],function(e,t,n,r,i,s){var o=function(e){n.call(this,e),this.collapseFieldName=this.properties.sliceCollapsingLabel||"other",this.collapsePercent=this.properties.hasOwnProperty("sliceCollapsingThreshold")?parseFloat(this.properties.sliceCollapsingThreshold):.01};return r.inherit(o,n),e.extend(o.prototype,{CHARTING_PROPERTY_WHITELIST:t.union(["sliceCollapsingThreshold","sliceCollapsingLabel","showPercent"],n.prototype.CHARTING_PROPERTY_WHITELIST),type:"pie",fieldList:[],getConfig:function(){return e.extend(n.prototype.getConfig.call(this),{translatePreHook:t(this.translatePreHook).bind(this)})},setData:function(e){this.data=[];var n=this,r=e.names,o=e.sizes,u=t(o).reduce(function(e,t){return e+t},0),a=o.length,f=0,l=0,c=0,h=function(e){return e>0&&e/u>n.collapsePercent};this.fieldList=t(r).map(i.escapeSVG,i),t(o).each(function(e,t){h(o[t])||c++},this),t(r).each(function(e,n){var r=o[n];h(r)||c===1||a<=10?this.data.push([e,r]):(f+=r,l++,this.fieldList=t(this.fieldList).without(e))},this);if(l>0){var p=this.collapseFieldName+" ("+l+")";this.data.push([p,f]),this.fieldList.push("__other")}i.normalizeBoolean(this.properties.showPercent)&&t(this.data).each(function(e){e[0]+=", "+s.format_percent(e[1]/u)})},getFieldList:function(){return this.fieldList},getData:function(){return this.data},highlightPoint:function(e){var t=e.color;e.graphic.attr({fill:t,"stroke-width":0,stroke:t})},translatePreHook:function(e){var t=e.chart;e.options.size=Math.min(t.plotHeight*.75,t.plotWidth/3)},tooltipTemplate:'            <table class="highcharts-tooltip">                <tr>                    <td style="text-align: left; color: #cccccc;"><%= sliceFieldName %>:&nbsp;&nbsp;</td>                    <td style="text-align: right; color: #ffffff;"><%= sliceName %></td>                </tr>                <tr>                    <td style="text-align: left; color: <%= sliceColor %>;"><%= seriesName %>:&nbsp;&nbsp;</td>                    <td style="text-align: right; color: #ffffff;"><%= yValue %></td>                </tr>                <tr>                    <td style="text-align: left; color: <%= sliceColor %>;"><%= seriesName %>%:&nbsp;&nbsp;</td>                    <td style="text-align: right; color: #ffffff"><%= yPercent %></td>                </tr>            </table>        '}),o}),define("js_charting/series/MultiSeries",["jquery","underscore","./Series","../util/lang_utils"],function(e,t,n,r){var i=function(e){n.call(this,e),this.nestedSeriesList=[]};return r.inherit(i,n),e.extend(i.prototype,{getFieldList:function(){return t(this.nestedSeriesList).invoke("getFieldList")},applyColorMapping:function(e){t(this.nestedSeriesList).invoke("applyColorMapping",e)},matchesName:function(e){return t(this.nestedSeriesList).any(function(t){return t.matchesName(e)})},getConfig:function(){return t(this.nestedSeriesList).invoke("getConfig")},bindNestedSeries:function(){var e=this;t(this.nestedSeriesList).each(function(t){t.on("mouseover",function(t,n,r){e.trigger(t,[n,r])}),t.on("mouseout",function(t,n,r){e.trigger(t,[n,r])}),t.on("click",function(t,n,r){e.trigger(t,[n,r])})})},handlePointMouseOver:function(e){var n=e.seriesName;t(this.nestedSeriesList).each(function(t){t.matchesName(n)?t.handlePointMouseOver(e):t.unHighlight()})},handlePointMouseOut:function(e){var n=e.seriesName;t(this.nestedSeriesList).each(function(t){t.matchesName(n)?t.handlePointMouseOut(e):t.highlight()})},handleLegendMouseOver:function(e){t(this.nestedSeriesList).each(function(t){t.matchesName(e)?t.handleLegendMouseOver(e):t.unHighlight()})},handleLegendMouseOut:function(e){t(this.nestedSeriesList).each(function(t){t.matchesName(e)?t.handleLegendMouseOut(e):t.highlight()})},onChartLoad:function(e){t(this.nestedSeriesList).invoke("onChartLoad",e)},destroy:function(){this.off(),t(this.nestedSeriesList).invoke("destroy")},bringToFront:function(){t(this.nestedSeriesList).invoke("bringToFront")},highlight:function(){t(this.nestedSeriesList).invoke("highlight")},unHighlight:function(){t(this.nestedSeriesList).invoke("unHighlight")}}),i}),define("js_charting/series/ScatterSeries",["jquery","./ManyShapeSeries","../util/lang_utils"],function(e,t,n){var r=function(e){t.call(this,e)};return n.inherit(r,t),e.extend(r.prototype,{type:"scatter",tooltipTemplate:'            <table class="highcharts-tooltip">                <% if(isMultiSeries) { %>                    <tr>                        <td style="text-align: left; color: #cccccc;"><%= labelSeriesName %>:&nbsp;&nbsp;</td>                        <td style="text-align: right; color:<%= seriesColor %>;"><%= seriesName %></td>                    </tr>                <% } %>                <tr>                    <td style="text-align: left; color: #cccccc;"><%= xAxisName %>:&nbsp;&nbsp;</td>                    <td style="text-align: right; color: #ffffff;"><%= xValue %></td>                </tr>                <tr>                    <td style="text-align: left; color: #cccccc;"><%= yAxisName %>:&nbsp;&nbsp;</td>                    <td style="text-align: right; color: #ffffff;"><%= yValue %></td>                </tr>            </table>        '}),r}),define("js_charting/series/MultiScatterSeries",["jquery","underscore","./MultiSeries","./ScatterSeries","../util/lang_utils"],function(e,t,n,r,i){var s=function(e){n.call(this,e),this.nestedSeriesList=[]};return i.inherit(s,n),e.extend(s.prototype,{setData:function(e){var n=function(n,r){return t(n).filter(function(t,n){return e.labels[n]===r})};this.nestedSeriesList=t(e.labels).chain().uniq().filter(function(e){return!!e}).map(function(e){var t={name:e,type:"scatter",clickEnabled:this.properties.clickEnabled};return new r(t)},this).value(),t(this.nestedSeriesList).each(function(t){t.setData({x:n(e.x,t.getName()),y:n(e.y,t.getName())})},this),this.bindNestedSeries()}}),s}),define("js_charting/series/RangeSeries",["jquery","underscore","./AreaSeries","./LineSeries","./MultiSeries","../util/lang_utils"],function(e,t,n,r,i,s){var o=function(t){this.threshold=0,n.call(this,e.extend({},t,{lineStyle:"dashed",stacking:"stacked"}))};s.inherit(o,n),e.extend(o.prototype,{HIGHLIGHTED_OPACITY:0,UNHIGHLIGHTED_OPACITY:0,UNHIGHLIGHTED_LINE_OPACITY:.25,setData:function(e){n.prototype.setData.call(this,e);var r=t(e.y).min();this.threshold=Math.min(r,0)},getConfig:function(){var e=n.prototype.getConfig.call(this);return e.showInLegend=!1,e.threshold=this.threshold,e}});var u=function(t){n.call(this,e.extend({},t,{lineStyle:"dashed",stacking:"stacked"}))};s.inherit(u,n),e.extend(u.prototype,{HIGHLIGHTED_OPACITY:.25,UNHIGHLIGHTED_OPACITY:.1,UNHIGHLIGHTED_LINE_OPACITY:.25,getConfig:function(){var e=n.prototype.getConfig.call(this);return e.showInLegend=!1,e}});var a=function(n){i.call(this,n),this.rangeStackId=t.uniqueId("rangeStack_"),this.predictedSeries=new r(n),this.lowerSeries=new o(e.extend({},n,{name:n.names.lower,legendKey:this.predictedSeries.getLegendKey(),stack:this.rangeStackId})),this.upperSeries=new u(e.extend({},n,{name:n.names.upper,legendKey:this.predictedSeries.getLegendKey(),stack:this.rangeStackId})),this.nestedSeriesList=[this.predictedSeries,this.upperSeries,this.lowerSeries],this.bindNestedSeries()};return s.inherit(a,i),e.extend(a.prototype,{type:"range",getFieldList:function(){return this.predictedSeries.getFieldList()},applyColorMapping:function(e){this.predictedSeries.applyColorMapping(e);var t=this.predictedSeries.getColor(),n={},r={};n[this.lowerSeries.getName()]=t,this.lowerSeries.applyColorMapping(n),r[this.upperSeries.getName()]=t,this.upperSeries.applyColorMapping(r)},setData:function(e){this.predictedSeries.setData({y:e.predicted,x:e.x}),this.lowerSeries.setData({y:e.lower,x:e.x}),e.upper=t(e.upper).map(function(n,r){if(t(n).isNull())return null;var i=n-e.lower[r];return Math.max(i,0)}),this.upperSeries.setData({y:e.upper,x:e.x})},handlePointMouseOver:function(e){this.bringToFront(),this.highlight()},handlePointMouseOut:function(e){},handleLegendMouseOver:function(e){this.bringToFront(),this.highlight()},handleLegendMouseOut:function(e){}}),a}),define("js_charting/series/series_factory",["./ColumnSeries","./BarSeries","./LineSeries","./AreaSeries","./PieSeries","./MultiScatterSeries","./ScatterSeries","./RangeSeries"],function(e,t,n,r,i,s,o,u){return{create:function(a){return a.type==="column"?new e(a):a.type==="bar"?new t(a):a.type==="line"?new n(a):a.type==="area"?new r(a):a.type==="pie"?new i(a):a.type==="scatter"?a.multiScatter===!0?new s(a):new o(a):a.type==="range"?new u(a):new e(a)}}}),define("js_charting/util/testing_utils",["jquery","underscore","splunk","./dom_utils"],function(e,t,n,r){var i=function(n,r,i){n.$container.attr("id")||n.$container.attr("id",n.id);var l=n.hcChart;e(l.container).addClass(i),s(l),o(l),l.options.legend.enabled&&f(l);if(l.tooltip&&l.tooltip.refresh){var c=l.tooltip.refresh,h=t.find(r,function(e){return e==="_time"})==="_time"?a:u;l.tooltip.refresh=function(e){c.call(l.tooltip,e),h(l)}}},s=function(t){var n=this,i,s;e(".highcharts-series",e(t.container)).each(function(n,o){i=t.series[n].name,e(o).attr("id",i+"-series"),r.hasSVG?s=e("rect, path",e(o)):s=e("shape",e(o)),s.each(function(e,t){l(t,"spl-display-object")})})},o=function(t){var n=this,i,s;e(".highcharts-axis, .highcharts-axis-labels",e(t.container)).each(function(t,n){if(r.hasSVG){var i=n.getBBox();i.width>i.height?l(n,"horizontal-axis"):l(n,"vertical-axis"),s=e("text",e(n))}else{var o,u,a=e("span",e(n));if(a.length<2)return;o=a[0],u=a[1],o.style.top==u.style.top?l(n,"horizontal-axis"):l(n,"vertical-axis"),s=e("span",e(n))}s.each(function(e,t){l(t,"spl-text-label")})});for(i=0;i<t.xAxis.length;i++)t.xAxis[i].axisTitle&&l(t.xAxis[i].axisTitle.element,"x-axis-title");for(i=0;i<t.yAxis.length;i++)t.yAxis[i].axisTitle&&l(t.yAxis[i].axisTitle.element,"y-axis-title")},u=function(t){var n,r,i,s,o,u,a=e(".highcharts-tooltip"),f=e("tr",a);for(n=0;n<f.length;n++)u=e("td",f[n]),r=f[n].textContent.split(":"),e(u[0]).addClass("key"),e(u[0]).addClass(c(r[0]+"-key")),e(u[1]).addClass("value"),e(u[1]).addClass(c(r[0]+"-value"))},a=function(t){var n=this,r,i,s,o,u,a,f=e(".highcharts-tooltip"),l=e("tr",f);for(r=0;r<l.length;r++)a=e("td",l[r]),r===0?(e(a[0]).addClass("time-value"),e(a[0]).addClass("time")):(i=l[r].textContent.split(":"),e(a[0]).addClass("key"),e(a[0]).addClass(c(i[0]+"-key")),e(a[1]).addClass("value"),e(a[1]).addClass(c(i[0]+"-value")))},f=function(t){var n=this,i;e(t.series).each(function(t,n){if(!n.legendItem)return;i=r.hasSVG?n.legendItem.textStr:e(n.legendItem.element).html(),n.legendSymbol&&(l(n.legendSymbol.element,"symbol"),l(n.legendSymbol.element,i+"-symbol")),n.legendLine&&(l(n.legendLine.element,"symbol"),l(n.legendLine.element,i+"-symbol")),n.legendItem&&l(n.legendItem.element,"legend-label")})},l=function(t,n){n=c(n);if(n==="")return;r.hasSVG?t.className.baseVal?t.className.baseVal+=" "+n:t.className.baseVal=n:e(t).addClass(n)},c=function(e){return e=e.replace(/\s/g,""),/^[-]?[A-Za-z]/.test(e)?e.replace(/[^A-Za-z0-9_-]/g,""):""},h=function(t,n,r,i){t.$container.attr("id")||t.$container.attr("id",t.id);var s=t.$hcContainer;s.addClass(r),p(s,i),n.valueDisplay&&l(n.valueDisplay.element,"gauge-value");var o;for(o in n)/^tickLabel_/.test(o)&&l(n[o].element,"gauge-tick-label");for(o in n)/^colorBand/.test(o)&&l(n[o].element,"gauge-color-band");e(".gauge-color-band").each(function(){e(this).attr("data-band-color",e(this).attr("fill"))}),n.fill&&e(n.fill.element).attr("data-indicator-color",e(n.fill.element).attr("fill")),n.needle&&l(n.needle.element,"gauge-indicator"),n.markerLine&&l(n.markerLine.element,"gauge-indicator")},p=function(e,t){e.attr("data-gauge-value",t)},d=function(e,t){n.JSCharting=n.JSCharting||{},n.JSCharting.chartByIdMap=n.JSCharting.chartByIdMap||{};var r=e.$container.attr("id");n.JSCharting.chartByIdMap[r]=t};return{initializeTestingMetaData:i,gaugeAddTestingMetadata:h,createGlobalReference:d}}),define("js_charting/visualizations/charts/Chart",["jquery","underscore","highcharts","../Visualization","../../components/ColorPalette","../../components/axes/TimeAxis","../../components/axes/CategoryAxis","../../components/axes/NumericAxis","../../components/Legend","../../components/PanningScrollbar","../../components/Tooltip","../../helpers/HoverEventThrottler","../../series/series_factory","splunk.util","../../util/lang_utils","../../util/testing_utils","../../util/parsing_utils","../../util/color_utils","../../util/time_utils","../../util/dom_utils","util/console"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w){var E=function(e,t){r.call(this,e,t)};return d.inherit(E,r),e.extend(E.prototype,{HOVER_DELAY:160,EXPORT_WIDTH:600,EXPORT_HEIGHT:400,POINT_CSS_SELECTOR:b.hasSVG?".highcharts-series > rect":".highcharts-series > shape",hasLegend:!0,hasTooltip:!0,hasXAxis:!0,hasYAxis:!0,requiresExternalColors:!0,externalPaletteMapping:{},externalPaletteSize:0,prepare:function(e,n){r.prototype.prepare.call(this,e,n),this.benchmark("Prepare Started"),this.initializeFields();var i=this.isEmpty();i||this.initializeColorPalette(),this.initializeSeriesList();var s=t(this.seriesList).any(function(e){return e.getType()==="bar"});this.hasXAxis&&this.initializeXAxisList(s),this.hasYAxis&&this.initializeYAxisList(s),i||(this.hasLegend&&this.initializeLegend(),this.hasTooltip&&this.initializeTooltip(),this.setAllSeriesData(),this.bindSeriesEvents(),this.needsPanning&&(this.initializePanning(),this.bindPanningEvents()))},getFieldList:function(){return t(this.seriesList).chain().invoke("getFieldList").flatten(!0).value()},setExternalColorPalette:function(t,n){this.externalPaletteMapping=e.extend({},t),this.externalPaletteSize=n},draw:function(r){this.benchmark("Draw Started"),this.applyColorPalette(),this.hcConfig=e.extend(!0,{},this.BASE_CONFIG,{chart:this.getChartConfig(),series:this.getSeriesConfigList(),xAxis:this.getXAxisConfig(),yAxis:this.getYAxisConfig(),legend:this.getLegendConfig(),tooltip:this.getTooltipConfig(),plotOptions:this.getPlotOptionsConfig()});var i=this;this.exportMode&&(this.seriesIsTimeBased(this.xFields)&&t(this.hcConfig.xAxis).each(function(e){var t,n=i.dataSet.getSeriesAsFloats("_span"),r=n&&n.length>0?parseInt(n[0],10):1,s=86400,o=s*365;r>=o?t=15:r>=s?t=25:t=35,e.title.margin=t}),e.extend(!0,this.hcConfig,{plotOptions:{series:{enableMouseTracking:!1,shadow:!1}}})),this.addEventHandlers(),w.log("config object to be sent to highcharts:",this.hcConfig),new n.Chart(this.hcConfig,function(t){i.hcChart=t,i.testMode&&(v.initializeTestingMetaData(i,i.xFields,i.getClassName()),v.createGlobalReference(i,t)),e(n).on("baseUriChange."+i.id,function(){i.$container.find("[clip-path]").each(function(){var t=e(this),n=t.attr("clip-path");t.removeAttr("clip-path"),t.attr("clip-path",n)})}),r&&(i.benchmark("Draw Finished"),r(i,i.benchmarks))})},setSize:function(e,t){if(!this.hcChart)return;this.hcChart.setSize(e,t,!1)},destroy:function(){this.hcChart&&(this.onChartDestroy(),this.hcChart.destroy(),this.hcChart=null)},getSVG:function(){var t=this.hcChart;this.hcConfig.legend.enabled&&this.exportMode&&t.type!=="scatter"&&e(t.series).each(function(e,t){if(!t.legendSymbol)return!1;t.legendSymbol.attr({height:8,translateY:4})});var n=e(".highcharts-container").find("svg");return n.siblings().remove(),n.find(".highcharts-tracker").remove(),n.find(".highcharts-legend g[clip-path]").each(function(){e(this).removeAttr("clip-path")}),n.parent().html()},processProperties:function(){r.prototype.processProperties.call(this),this.properties.hasOwnProperty("drilldown")?this.chartClickEnabled=this.legendClickEnabled=m.normalizeBoolean(this.properties.drilldown):(this.properties.hasOwnProperty("chart.clickEnabled")?this.chartClickEnabled=m.normalizeBoolean(this.properties["chart.clickEnabled"]):this.chartClickEnabled=m.normalizeBoolean(this.properties.enableChartClick),this.properties.hasOwnProperty("chart.legend.clickEnabled")?this.legendClickEnabled=m.normalizeBoolean(this.properties["chart.legend.clickEnabled"]):this.legendClickEnabled=m.normalizeBoolean(this.properties.enableLegendClick)),this.properties["legend.placement"]==="none"&&(this.hasLegend=!1),this.sliceDataForPanning=!1;if(this.hasXAxis||this.hasYAxis)this.axisColorScheme={"axis.foregroundColorSoft":this.foregroundColorSoft,"axis.foregroundColorSofter":this.foregroundColorSofter,"axis.fontColor":this.fontColor};this.properties.hasOwnProperty("legend.masterLegend")&&(!this.properties["legend.masterLegend"]||e.trim(this.properties["legend.masterLegend"])==="null")&&(this.requiresExternalColors=!1),this.stackMode=this.properties["chart.stackMode"]||"default",this.legendLabels=m.stringToArray(this.properties["legend.labels"]||"[]"),this.showHideMode=this.properties["data.fieldListMode"]==="show_hide",this.fieldHideList=t.union(this.properties.fieldHideList||[],m.stringToArray(this.properties["data.fieldHideList"])||[]),this.fieldShowList=m.stringToArray(this.properties["data.fieldShowList"])||[];var f=this.properties["chart.seriesColors"]||this.properties.seriesColors;this.seriesColors=m.stringToHexArray(f)||null;var l=this.properties["chart.fieldColors"]||this.properties.fieldColors;this.internalFieldColors=m.stringToObject(l||"{}"),t(this.internalFieldColors).each(function(e,n){var r=parseInt(e,16);this.internalFieldColors[n]=t(r).isNaN()?0:r},this),this.yAxisMapping=m.stringToObject(this.properties.yAxisMapping||"{}"),this.yScaleMapping=m.stringToArray(this.properties.yScaleMapping||"[]"),this.xAxisFields=m.stringToArray(this.properties.xAxisFields||"[]"),this.xAxisMapping=m.stringToObject(this.properties.xAxisMapping||"{}"),this.seriesTypeMapping=m.stringToObject(this.properties.seriesTypeMapping||"{}")},initializeFields:function(){var n=this.dataSet.fieldAt(0);this.xFields=this.xAxisFields&&this.xAxisFields.length>0?this.xAxisFields:[n];var r=this.dataSet.allDataFields();if(this.isRangeSeriesMode()){var i=this.getRangeSeriesConfig();r=t(r).without(i.lower,i.upper)}this.yFields=t(r).filter(function(e){return t(this.xFields).indexOf(e)===-1},this);var s=e.extend([],this.fieldShowList),o=e.extend([],this.fieldHideList),u=t.intersection(s,o);this.showHideMode?o=t.difference(o,u):s=t.difference(s,u),this.yFields=t.difference(this.yFields,o),s.length>0&&(this.yFields=t.intersection(this.yFields,s)),this.legendLabels.length>0&&(this.yFields=t.union(this.legendLabels,this.yFields))},isEmpty:function(){return this.yFields.length===0},initializeColorPalette:function(){this.colorPalette=new i(this.seriesColors)},initializeSeriesList:function(){if(this.isEmpty()){this.seriesList=[h.create({type:this.type})];return}var n,r=this.isRangeSeriesMode();r&&(n=this.getRangeSeriesConfig().predicted),this.seriesList=t(this.yFields).map(function(t){var i;n&&n===t?i="range":this.seriesTypeMapping.hasOwnProperty(t)&&(i=this.seriesTypeMapping[t]);var s=e.extend(!0,{},this.properties,{type:i||this.type,name:t,stacking:r?"default":this.stackMode,clickEnabled:this.chartClickEnabled});return i==="range"&&(s.names=this.getRangeSeriesConfig()),this.yAxisMapping[t]&&(s.yAxis=parseInt(this.yAxisMapping[t],10)),this.xAxisMapping[t]&&(s.xAxis=parseInt(this.xAxisMapping[t],10)),h.create(s)},this)},initializeXAxisList:function(n){var r=this.isEmpty();this.xAxisList=t(this.xFields).map(function(i,u){var a=t(this.seriesList).any(function(e){return e.getXAxisIndex()===u&&{column:!0,bar:!0}.hasOwnProperty(e.getType())}),f=e.extend(m.getXAxisProperties(this.properties),this.axisColorScheme,{"axis.orientation":n?"vertical":"horizontal","axisLabels.tickmarkPlacement":a?"between":"on",isEmpty:r});return f["axisTitle.text"]||(f["axisTitle.text"]=i),this.seriesIsTimeBased(i)?(f["axis.spanData"]=this.dataSet.getSeriesAsFloats("_span"),f["axis.categories"]=this.dataSet.getSeriesAsTimestamps(i),new s(f)):(f["axis.categories"]=this.dataSet.getSeries(i),new o(f))},this)},initializeYAxisList:function(n){var r=this,i=this.isEmpty();this.yAxisList=[];var s=t(this.seriesList).chain().invoke("getYAxisIndex").max().value();t(s+1).times(function(s){var o=e.extend(m.getYAxisProperties(r.properties),r.axisColorScheme,{"axis.orientation":n?"horizontal":"vertical",isEmpty:i});if(!o["axisTitle.text"]){var a=t(r.seriesList).filter(function(e){return e.getYAxisIndex()===s});a.length===1&&(o["axisTitle.text"]=a[0].getName())}r.yScaleMapping&&r.yScaleMapping.length>s&&(o["axis.scale"]=r.yScaleMapping[s]),r.yAxisList.push(new u(o))})},initializeLegend:function(){var n=m.getLegendProperties(this.properties);t(n.clickEnabled).isUndefined()&&(n.clickEnabled=this.legendClickEnabled),e.extend(n,{fontColor:this.fontColor}),this.legend=new a(n);var r=this,i={highlightDelay:125,unhighlightDelay:50,onMouseOver:function(e){r.handleLegendMouseOver(e)},onMouseOut:function(e){r.handleLegendMouseOut(e)}},s=new c(i);this.legend.on("mouseover",function(e,t){s.mouseOverHappened(t)}),this.legend.on("mouseout",function(e,t){s.mouseOutHappened(t)}),this.legend.on("click",function(e,t){r.handleLegendClick(e,t)})},initializePanning:function(){var e={truncationLimit:this.truncationLimit,numSeries:this.dataSet.seriesList.length-2,seriesSize:this.dataSet.seriesList[0].length,container:this.$container};this.panning=new f(e)},initializeTooltip:function(){var e={borderColor:this.foregroundColorSoft};this.tooltip=new l(e)},setAllSeriesData:function(){var e=this,n=this.seriesList.length,r=n*this.dataSet.seriesList[0].length;t(this.seriesList).each(function(t){t.getType()==="range"?this.setRangeSeriesData(t):e.sliceDataForPanning&&r>e.truncationLimit?(this.needsPanning=!0,this.setBasicSeriesData(t)):this.setBasicSeriesData(t)},this)},setBasicSeriesData:function(e){var t=this.getSeriesXInfo(e),n=this.getSeriesYInfo(e);if(t.axis instanceof u)e.setData({x:this.formatAxisData(t.axis,t.fieldName),y:this.formatAxisData(n.axis,n.fieldName)});else if(t.axis instanceof s){var r=t.axis.getCategories(),i=this.formatAxisData(n.axis,n.fieldName);e.setData({y:i.slice(0,r.length)})}else e.setData({y:this.formatAxisData(n.axis,n.fieldName)});this.needsPanning&&this.sliceSeriesForPanning(e,this.truncationLimit)},setRangeSeriesData:function(e){var t=this.getSeriesXInfo(e),n=this.getSeriesYInfo(e),r=this.getRangeSeriesConfig(),i={predicted:this.formatAxisData(n.axis,r.predicted),lower:this.formatAxisData(n.axis,r.lower),upper:this.formatAxisData(n.axis,r.upper)};t.axis instanceof u&&(i.x=this.formatAxisData(t.axis,t.fieldName)),e.setData(i)},bindSeriesEvents:function(){var e=this,n={highlightDelay:125,unhighlightDelay:50,onMouseOver:function(t,n){e.handlePointMouseOver(t,n)},onMouseOut:function(t,n){e.handlePointMouseOut(t,n)}},r=new c(n);t(this.seriesList).each(function(t){t.on("mouseover",function(e,t,n){r.mouseOverHappened(t,n)}),t.on("mouseout",function(e,t,n){r.mouseOutHappened(t,n)}),t.on("click",function(t,n,r){e.handlePointClick(t,n,r)})})},bindPanningEvents:function(){var e=this;this.panning.on("scroll",function(t,n){e.panningScroll=!0,e.windowToDisplay=n,e.setAllSeriesData(),e.setPannedData(),e.setPannedLabels(),e.hcChart.redraw()})},setPannedData:function(){var e=this;t(this.hcChart.series).each(function(t,n){t.setData(e.seriesList[n].data,!1)})},setPannedLabels:function(){var e,n,r,i;n=this.dataSet.getSeries("_time"),r=this.dataSet.getSeriesAsFloats("_span"),n=n.slice(this.windowToDisplay,this.windowToDisplay+this.pointsToPlotPerSeries),r=r.slice(this.windowToDisplay,this.windowToDisplay+this.pointsToPlotPerSeries),i=y.convertTimeToCategories(n,r,6),this.categoryIndexLookup=i.categories;for(e=-1;e<i.categories.length;e++)e!==i.categories.length-1&&(i.categories[e]=i.categories[e+1]);t(this.hcChart.xAxis).each(function(e){e.setCategories(i.categories,!1)})},handlePointClick:function(e,n,r){var i={},s=n.index,o=this.getSeriesPointInfo(r,n.index),u={type:"pointClick",modifierKey:e.modifierKey,name:o.xAxisName,name2:o.yAxisName,value2:o.yValue};if(o.xAxisIsTime){var a=this.dataSet.getSeries(o.xAxisName)[s];u.value=p.getEpochTimeFromISO(a),u._span=this.dataSet.getSeriesAsFloats("_span")[s],i["row."+o.xAxisName]=u.value}else u.value=o.xValue,i["row."+o.xAxisName]=o.xValue;t(this.yFields).each(function(e){i["row."+e]=this.dataSet.getSeries(e)[s]},this),u.rowContext=i,this.trigger(u)},handlePointMouseOver:function(e,n){t(this.seriesList).each(function(t){t.matchesName(n.getName())?t.handlePointMouseOver(e):t.unHighlight()}),this.legend&&this.legend.selectField(n.getLegendKey())},handlePointMouseOut:function(e,n){t(this.seriesList).each(function(t){t.matchesName(n.getName())?t.handlePointMouseOut(e):t.highlight()}),this.legend&&this.legend.unSelectField(n.getLegendKey())},handleLegendClick:function(e,t){var n={type:"legendClick",modifierKey:e.modifierKey,name2:t};this.trigger(n)},handleLegendMouseOver:function(e){t(this.seriesList).each(function(t){t.matchesName(e)?t.handleLegendMouseOver(e):t.unHighlight()})},handleLegendMouseOut:function(e){t(this.seriesList).each(function(t){t.matchesName(e)?t.handleLegendMouseOut(e):t.highlight()})},applyColorPalette:function(){if(this.isEmpty())return;var e={};t(this.getFieldList()).each(function(t,n,r){e[t]=this.computeFieldColor(t,n,r)},this),t(this.seriesList).invoke("applyColorMapping",e)},getSeriesConfigList:function(){return t(this.seriesList).chain().invoke("getConfig").flatten(!0).value()},getXAxisConfig:function(){return this.hasXAxis?t(this.xAxisList).map(function(e,t){var n=e.getConfig();return t>0&&(n.offset=40),n},this):[]},getYAxisConfig:function(){return this.hasYAxis?t(this.yAxisList).map(function(e,t){var n=e.getConfig();return t%2!==0&&(n.opposite=!0),n}):[]},getLegendConfig:function(){return this.legend?this.legend.getConfig():{}},getTooltipConfig:function(){if(!this.tooltip)return{};var t=this;return e.extend(this.tooltip.getConfig(),{formatter:function(){var e=this.series.splSeries;return t.formatTooltip(e,this.point)}})},formatTooltip:function(e,t){var n;return this.panningScroll?n=this.getSeriesPointInfo(e,this.categoryIndexLookup.indexOf(t.category)+this.windowToDisplay):n=this.getSeriesPointInfo(e,t.index),e.getTooltipHtml(n)},getChartConfig:function(){var e={type:this.type,renderTo:this.container,backgroundColor:this.backgroundColor,borderColor:this.backgroundColor};return this.exportMode&&(e.width=this.width||this.EXPORT_WIDTH,e.height=this.height||this.EXPORT_HEIGHT),e},getPlotOptionsConfig:function(){return e.extend(!0,{},this.BASE_PLOT_OPTIONS_CONFIG,{series:{cursor:this.chartClickEnabled?"pointer":"default",enableMouseTracking:this.useMouseTracking()}})},addEventHandlers:function(){var e=this;this.hcConfig.chart.events={load:function(t){var n=this;e.onChartLoad(n,t),e.onChartLoadOrResize(n,t)},redraw:function(t){var n=this;e.onChartResize(n,t),e.onChartLoadOrResize(n,t)}}},onChartLoad:function(e){this.legend&&this.legend.onChartLoad(e),this.panning&&this.panning.onChartLoad(e),this.xAxisList&&t(this.xAxisList).each(function(t){t.onChartLoad(e)}),this.yAxisList&&t(this.yAxisList).each(function(t){t.onChartLoad(e)}),t(this.seriesList).each(function(t){t.onChartLoad(e)}),this.useMouseTracking()||this.addPointListeners(e)},onChartResize:function(){},onChartLoadOrResize:function(e){this.panning&&this.panning.onChartLoadOrResize(e),this.xAxisList&&t(this.xAxisList).each(function(t){t.onChartLoadOrResize(e)}),this.yAxisList&&t(this.yAxisList).each(function(t){t.onChartLoadOrResize(e)})},onChartDestroy:function(){e(n).off("baseUriChange."+this.id),this.legend&&this.legend.destroy(),this.xAxisList&&t(this.xAxisList).each(function(e){e.destroy()}),this.yAxisList&&t(this.yAxisList).each(function(e){e.destroy()}),t(this.seriesList).each(function(e){e.destroy()}),this.useMouseTracking()||e(this.hcChart.container).off(".splunk_jscharting")},addPointListeners:function(n){var r=e(n.container),i=".highcharts-tooltip *",s=null,o=function(e){return n.series[e.attr("data-series-index")].data[e.attr("data-point-index")]};!b.hasSVG&&n.tracker&&n.tracker.destroy();if(n.tooltip){var u=t(n.tooltip.hide).bind(n.tooltip);n.tooltip.hide=function(e){u(),!e&&s&&(s.firePointEvent("mouseOut"),s=null)}}e(n.series).each(function(t,n){e(n.data).each(function(n,r){r.graphic&&r.graphic.element&&(e(r.graphic.element).attr("data-series-index",t),e(r.graphic.element).attr("data-point-index",n))})});var a=this;r.on("click.splunk_jscharting",function(t){var n=e(t.target);if(n.is(a.POINT_CSS_SELECTOR)){var r=o(n);r.firePointEvent("click",t)}}),r.on("mouseover.splunk_jscharting",function(t){var r=e(t.target);if(r.is(i))return;var u=null;r.is(a.POINT_CSS_SELECTOR)&&(u=o(r)),s&&(!u||s!==u)&&(s.firePointEvent("mouseOut"),n.tooltip.hide(!0),s=null),u&&(u.firePointEvent("mouseOver"),n.tooltip.refresh(u),s=u)})},getSeriesXInfo:function(e){var t=e.getXAxisIndex();return{axis:this.xAxisList[t],fieldName:this.xFields[t]}},getSeriesYInfo:function(e){return{axis:this.yAxisList[e.getYAxisIndex()],fieldName:e.getName()}},getSeriesPointInfo:function(e,t){var n=this.getSeriesXInfo(e),r=this.getSeriesYInfo(e),i=this.dataSet.getSeries(n.fieldName),o=this.dataSet.getSeries(r.fieldName);return{xAxisIsTime:n.axis instanceof s,xAxisName:n.fieldName,xValue:i[t],xValueDisplay:n.axis.formatValue(i[t]),yAxisName:r.fieldName,yValue:o[t],yValueDisplay:r.axis.formatValue(o[t])}},isRangeSeriesMode:function(){return this.dataSet.hasField("_predicted")&&this.dataSet.hasField("_lower")&&this.dataSet.hasField("_upper")},getRangeSeriesConfig:function(){var e=t(this.dataSet.getSeries("_predicted")).find(function(e){return!!e}),n=t(this.dataSet.getSeries("_lower")).find(function(e){return!!e}),r=t(this.dataSet.getSeries("_upper")).find(function(e){return!!e});return{predicted:e,lower:n,upper:r}},useMouseTracking:function(){return t(this.seriesList).any(function(e){return e.getType()in{line:!0,area:!0,range:!0}})},seriesIsTimeBased:function(e){return/^_time/.test(e)},sliceSeriesForPanning:function(e,t){var n=this.seriesList.length;n>t?this.pointsToPlotPerSeries=1:this.pointsToPlotPerSeries=Math.ceil(t/n),this.windowToDisplay?e.sliceData(e,this.windowToDisplay,this.windowToDisplay+this.pointsToPlotPerSeries):e.sliceData(e,0,this.pointsToPlotPerSeries)},formatAxisData:function(e,t){return this.dataSet.hasField(t)?this.dataSet.getSeriesAsFloats(t,{scale:e.isLogScale()?"log":"linear",nullValueMode:this.properties["chart.nullValueMode"]}):[]},computeFieldColor:function(e,n,r){if(this.internalFieldColors.hasOwnProperty(e))return g.colorFromHex(this.internalFieldColors[e]);var i=!t(this.externalPaletteMapping).isEmpty(),s=i?this.externalPaletteMapping[e]:n,o=i?this.externalPaletteSize:r.length;return this.colorPalette.getColorAsRgb(e,s,o)},BASE_CONFIG:{chart:{animation:!1,showAxes:!0,reflow:!1},credits:{enabled:!1},legend:{enabled:!1},plotOptions:{series:{animation:!1,events:{legendItemClick:function(){return!1}},borderWidth:0,shadow:!1,turboThreshold:0}},title:{text:null},tooltip:{enabled:!1,useHTML:!0}},BASE_PLOT_OPTIONS_CONFIG:{line:{stickyTracking:!0,marker:{states:{hover:{enabled:!0,radius:6}},symbol:"square",radius:6}},area:{stickyTracking:!0,lineWidth:1,trackByArea:!0,marker:{states:{hover:{enabled:!0,radius:6}},symbol:"square",radius:6,enabled:!1}},column:{markers:{enabled:!1},stickyTracking:!1},bar:{markers:{enabled:!1},stickyTracking:!1}}}),E}),define("js_charting/visualizations/charts/SplitSeriesChart",["jquery","underscore","./Chart","../../util/lang_utils"],function(e,t,n,r){var i=function(e,t){n.call(this,e,t)};return r.inherit(i,n),e.extend(i.prototype,{interAxisSpacing:10,initializeSeriesList:function(){n.prototype.initializeSeriesList.call(this),t(this.seriesList).each(function(e,t){e.setYAxisIndex(t)},this)},setAllSeriesData:function(){n.prototype.setAllSeriesData.call(this),this.globalMin=Infinity,this.globalMax=-Infinity,t(this.yFields).each(function(e,t){var n=this.yAxisList[t],r=this.formatAxisData(n,e);this.globalMin=Math.min(this.globalMin,Math.min.apply(Math,r)),this.globalMax=Math.max(this.globalMax,Math.max.apply(Math,r))},this)},getYAxisConfig:function(){var r=n.prototype.getYAxisConfig.call(this);return t(r).each(function(n,r){e.extend(n,{opposite:!1,offset:0,setSizePreHook:t(function(t){e.extend(t.options,this.getAdjustedAxisPosition(t,r,this.yAxisList.length))}).bind(this)});var i=n.getSeriesExtremesPostHook;n.getSeriesExtremesPostHook=t(function(e){e.dataMax=Math.max(e.dataMax,this.globalMax),e.dataMin=Math.min(e.dataMin,this.globalMin),i&&i(e)}).bind(this)},this),r},getSeriesConfigList:function(){var e=n.prototype.getSeriesConfigList.call(this);return t(e).each(function(e){e.stacking="normal",e.afterAnimatePostHook=t(this.updateSeriesClipRect).bind(this),e.renderPostHook=t(this.updateSeriesClipRect).bind(this),e.destroyPreHook=t(this.destroySplitSeriesClipRect).bind(this),e.plotGroupPostHook=t(this.translateSeriesGroup).bind(this)},this),e},getAdjustedAxisPosition:function(e,t,n){var r=e.chart;if(r.inverted){var i=r.plotWidth,s=(i-this.interAxisSpacing*(n-1))/n;return{left:r.plotLeft+(s+this.interAxisSpacing)*t,width:s}}var o=r.plotHeight,u=(o-this.interAxisSpacing*(n-1))/n;return{top:r.plotTop+(u+this.interAxisSpacing)*t,height:u}},getTooltipConfig:function(){var e=n.prototype.getTooltipConfig.call(this);return e.getAnchorPostHook=function(e,t,n){return n[0]=e.series.yAxis.left+e.pointWidth,n},e},updateSeriesClipRect:function(e){var t=e.chart,n=e.yAxis;this.destroySplitSeriesClipRect(e),t.inverted?e.splitSeriesClipRect=t.renderer.clipRect(0,0,t.plotHeight,n.width):e.splitSeriesClipRect=t.renderer.clipRect(0,0,t.plotWidth,n.height),e.group.clip(e.splitSeriesClipRect)},destroySplitSeriesClipRect:function(e){e.hasOwnProperty("splitSeriesClipRect")&&e.splitSeriesClipRect.destroy()},translateSeriesGroup:function(e,t){e.chart.inverted&&t.translate(e.yAxis.left,0)}}),i}),define("js_charting/components/DataLabels",["jquery","underscore","../helpers/EventMixin","../helpers/Formatter","../helpers/HoverEventThrottler"],function(e,t,n,r,i){var s=function(e){this.properties=e||{}};return s.prototype=e.extend(n,{HIGHLIGHTED_OPACITY:1,UNHIGHLIGHTED_OPACITY:.3,getConfig:function(){return{color:this.properties.fontColor||"#000000",connectorColor:this.properties.foregroundColorSoft,softConnector:!1,distance:20,style:{cursor:this.properties.clickEnabled?"pointer":"default"},x:.01,drawDataLabelsPreHook:t(this.drawDataLabelsPreHook).bind(this),drawDataLabelsPostHook:t(this.drawDataLabelsPostHook).bind(this)}},onChartLoad:function(e){this.hcSeries=e.series[0],this.addEventHandlers()},addEventHandlers:function(){var n=this,r={highlightDelay:125,unhighlightDelay:50,onMouseOver:function(e){n.selectLabel(e),n.trigger("mouseover",[e])},onMouseOut:function(e){n.unSelectLabel(e),n.trigger("mouseout",[e])}},s=new i(r);t(this.hcSeries.data).each(function(t){var r=t.dataLabel.element;e(r).bind("mouseover",function(){s.mouseOverHappened(t)}),e(r).bind("mouseout",function(){s.mouseOutHappened(t)}),e(r).bind("click",function(){n.trigger("click",[t])})})},destroy:function(){this.off(),this.hcSeries=null},selectLabel:function(e){var n=this.hcSeries.data[e.index];n.dataLabel.attr("fill-opacity",this.HIGHLIGHTED_OPACITY),t(this.hcSeries.data).chain().without(n).each(function(e){e.dataLabel.attr("fill-opacity",this.UNHIGHLIGHTED_OPACITY)},this)},unSelectLabel:function(e){var n=this.hcSeries.data[e.index];t(this.hcSeries.data).chain().without(n).each(function(e){e.dataLabel.attr("fill-opacity",this.HIGHLIGHTED_OPACITY)},this)},drawDataLabelsPreHook:function(e){var t=e.chart,n=e.options.dataLabels.distance,r=e.center,i=r[2]/2;e.getX=function(e,s){return t.plotLeft+r[0]+(s?-i-n:i+n/2)},this.fitLabelsToPlotArea(e)},fitLabelsToPlotArea:function(t){var n,i,s=t.options,o=s.dataLabels.distance,u=s.size,a=t.chart,f=a.renderer,l=new r(f),c=11,h=9,p=(a.plotWidth-(u+2*o))/2,d=[];for(n=0;n<t.data.length;n++)d.push(t.options.data[n][0]);i=l.adjustLabels(d,p,h,c,"middle");for(n=0;n<t.data.length;n++)t.data[n].name=i.labels[n],t.data[n].dataLabel&&t.data[n].dataLabel.css&&t.data[n].dataLabel.css({fontSize:i.fontSize+"px"});e.extend(!0,s.dataLabels,{style:{fontSize:i.fontSize+"px"},y:Math.floor(i.fontSize/4)-3}),l.destroy()},drawDataLabelsPostHook:function(e){t(e.points).each(function(e){if(e.connector){var t=e.connector.attr("d").split(" ");e.connector.attr({d:this.updateConnectorPath(t)})}},this)},updateConnectorPath:function(e){var t={x:parseFloat(e[1]),y:parseFloat(e[2])},n={x:parseFloat(e[4]),y:parseFloat(e[5])},r={x:parseFloat(e[7]),y:parseFloat(e[8])},i=(r.y-n.y)/(r.x-n.x),s={x:r.x+(t.y-r.y)/i,y:t.y},o=isNaN(s.x)||t.x>=s.x&&s.x<=r.x||t.x<=s.x&&s.x>=r.x,u=o?["M",t.x,t.y,"L",r.x,r.y]:["M",t.x,t.y,"L",s.x,s.y,"L",r.x,r.y];return u}}),s}),define("js_charting/visualizations/charts/PieChart",["jquery","underscore","highcharts","splunk.i18n","./Chart","../../components/DataLabels","../../helpers/HoverEventThrottler","../../series/series_factory","../../util/lang_utils","../../util/parsing_utils","../../util/dom_utils"],function(e,t,n,r,i,s,o,u,a,f,l){var c=function(e,t){i.call(this,e,t)};return a.inherit(c,i),e.extend(c.prototype,{POINT_CSS_SELECTOR:l.hasSVG?".highcharts-point > path":".highcharts-point > shape",hasLegend:!1,hasXAxis:!1,hasYAxis:!1,prepare:function(e,t){i.prototype.prepare.call(this,e,t),this.initializeDataLabels()},draw:function(e){this.isEmpty()?(this.benchmark("Draw Started"),this.drawEmptyPieChart(),e&&(this.benchmark("Draw Finished"),e(this,this.benchmarks))):i.prototype.draw.call(this,e)},processProperties:function(){i.prototype.processProperties.call(this),this.showLabels=this.isEmpty()?!1:f.normalizeBoolean(this.properties["chart.showLabels"],!0)},initializeFields:function(){this.sliceNameField=this.dataSet.fieldAt(0),this.sliceSizeField=this.dataSet.fieldAt(1)},isEmpty:function(){return this.dataSet.length<2},initializeSeriesList:function(){var t=e.extend({},this.properties,{name:this.sliceSizeField,type:"pie",clickEnabled:this.chartClickEnabled});this.seriesList=[new u.create(t)]},setAllSeriesData:function(){this.seriesList[0].setData({names:this.dataSet.getSeries(this.sliceNameField),sizes:this.dataSet.getSeriesAsFloats(this.sliceSizeField,{nullValueMode:"zero"})})},handlePointMouseOver:function(e){this.seriesList[0].handlePointMouseOver(e),this.dataLabels&&this.dataLabels.selectLabel(e)},handlePointMouseOut:function(e){this.seriesList[0].handlePointMouseOut(e),this.dataLabels&&this.dataLabels.unSelectLabel(e)},handlePointClick:function(e,t){var n=t.index,r=this.seriesList[0].getData()[n],i=r[0],s=r[1].toString(),o={},u={type:"pointClick",modifierKey:e.modifierKey,name:this.sliceNameField,value:i,name2:this.sliceSizeField,value2:s,rowContext:o};o["row."+this.sliceNameField]=i,o["row."+this.sliceSizeField]=s,this.trigger(u)},initializeDataLabels:function(){var e={fontColor:this.fontColor,foregroundColorSoft:this.foregroundColorSoft,clickEnabled:f.normalizeBoolean(this.properties["chart.clickEnabled"])||f.normalizeBoolean(this.properties.enableChartClick)};this.dataLabels=new s(e);var t=this,n={highlightDelay:75,unhighlightDelay:50,onMouseOver:function(e){t.seriesList[0].selectPoint(e)},onMouseOut:function(e){t.seriesList[0].unSelectPoint(e)}},r=new o(n);this.dataLabels.on("mouseover",function(e,t){r.mouseOverHappened(t)}),this.dataLabels.on("mouseout",function(e,t){r.mouseOutHappened(t)})},getPlotOptionsConfig:function(){var t=this;return{pie:{dataLabels:e.extend(this.getDataLabelConfig(),{formatter:function(){var e=this;return f.escapeSVG(t.formatDataLabel(e))}}),borderWidth:0,stickyTracking:!1,cursor:this.chartClickEnabled?"pointer":"default",enableMouseTracking:this.useMouseTracking()}}},getDataLabelConfig:function(){return this.showLabels?this.dataLabels.getConfig():{enabled:!1}},applyColorPalette:function(){this.BASE_CONFIG=e.extend({},this.BASE_CONFIG,{colors:t(this.getFieldList()).map(this.computeFieldColor,this)})},formatDataLabel:function(e){return e.point.name},formatTooltip:function(e,t){var n=t.index,i=e.getData()[n],s=i[0],o=i[1];return e.getTooltipHtml({sliceFieldName:this.sliceNameField,sliceName:s,sliceColor:t.color,yValue:r.format_decimal(o),yPercent:r.format_percent(t.percentage/100)})},drawEmptyPieChart:function(){var e=this.$container.width(),t=this.$container.height(),r=e/6.1,i=128,s=20,o=(e-i)/2,u=(t+s)/2;this.renderer=new n.Renderer(this.container,e,t),this.renderer.circle(e/2,t/2,r).attr({fill:"#C0C0C0",stroke:"black","stroke-width":1}).add(),this.renderer.text("No Results",o,u).css({fontSize:"26px"}).add()},setSize:function(e,t){this.isEmpty()?(this.$container.empty(),this.drawEmptyPieChart()):i.prototype.setSize.call(this,e,t)},useMouseTracking:function(){return!1},destroy:function(){this.renderer&&(this.renderer.destroy(),this.$container.empty()),i.prototype.destroy.call(this)},onChartLoad:function(e){i.prototype.onChartLoad.call(this,e),this.dataLabels&&this.dataLabels.onChartLoad(e)},onChartDestroy:function(){i.prototype.onChartDestroy.call(this),this.dataLabels&&this.dataLabels.destroy()}}),c}),define("js_charting/visualizations/charts/ScatterChart",["jquery","underscore","./Chart","../../series/series_factory","../../components/axes/NumericAxis","../../util/lang_utils","../../util/parsing_utils","../../util/dom_utils"],function(e,t,n,r,i,s,o,u){var a=function(e,t){n.call(this,e,t)};return s.inherit(a,n),e.extend(a.prototype,{POINT_CSS_SELECTOR:u.hasSVG?".highcharts-markers > path":".highcharts-markers > shape",initializeFields:function(){n.prototype.initializeFields.call(this);var e=this.dataSet.allDataFields();this.dataSet.fieldIsGroupby(e[0])&&(this.markField=e[0],e=e.slice(1)),e.length>2?(this.isMultiSeries=!0,this.labelField=e[0],this.xField=e[1],this.yField=e[2],this.hasLegend=this.properties["legend.placement"]!=="none"):(this.isMultiSeries=!1,this.xField=e[0],this.yField=e[1],this.hasLegend=!1)},isEmpty:function(){return this.dataSet.length<2},initializeSeriesList:function(){var e;this.isMultiSeries?(e=r.create({type:"scatter",clickEnabled:this.chartClickEnabled,multiScatter:!0}),this.seriesList=[e]):(e=r.create({name:t.uniqueId("scatter_field_"),type:"scatter",clickEnabled:this.chartClickEnabled}),this.seriesList=[e])},initializeXAxisList:function(){var t=e.extend(o.getXAxisProperties(this.properties),this.axisColorScheme,{"axis.orientation":"horizontal",isEmpty:this.isEmpty()});t["axisTitle.text"]||(t["axisTitle.text"]=this.xField),t["gridLines.showMajorLines"]=!1,this.xAxisList=[new i(t)]},initializeYAxisList:function(){var t=e.extend(o.getYAxisProperties(this.properties),this.axisColorScheme,{"axis.orientation":"vertical",isEmpty:this.isEmpty()});t["axisTitle.text"]||(t["axisTitle.text"]=this.yField),this.yAxisList=[new i(t)]},setAllSeriesData:function(){var e=this.formatAxisData(this.xAxisList[0],this.xField),t=this.formatAxisData(this.yAxisList[0],this.yField),n={x:e,y:t};this.isMultiSeries&&(n.labels=this.dataSet.getSeries(this.labelField)),this.seriesList[0].setData(n)},getPlotOptionsConfig:function(){var e=parseInt(this.properties["chart.markerSize"],10);return{scatter:{stickyTracking:!1,marker:{radius:e?Math.ceil(e*6/4):6,symbol:"square"},cursor:this.chartClickEnabled?"pointer":"default",enableMouseTracking:this.useMouseTracking()}}},useMouseTracking:function(){return!1},handlePointClick:function(e,t,n){var r=t.index,i=n.getName(),s=this.dataSet.getSeries(this.xField),o=this.dataSet.getSeries(this.yField),u=this.isMultiSeries?this.filterDataByNameMatch(s,i)[r]:s[r],a=this.isMultiSeries?this.filterDataByNameMatch(o,i)[r]:o[r],f={},l={type:"pointClick",modifierKey:e.modifierKey,name:this.isMultiSeries?this.labelField:this.xField,value:this.isMultiSeries?i:u,name2:this.isMultiSeries?this.xField:this.yField,value2:this.isMultiSeries?u:a,rowContext:f};f["row."+this.xField]=u,f["row."+this.yField]=a,this.isMultiSeries&&(f["row."+this.labelField]=i);if(this.markField){var c=this.dataSet.getSeries(this.markField),h=this.isMultiSeries?this.filterDataByNameMatch(c,i)[r]:c[r];f["row."+this.markField]=h}this.trigger(l)},handleLegendClick:function(e,t){var n={},r={type:"legendClick",modifierKey:e.modifierKey,name:this.labelField,value:t,rowContext:n};n["row."+this.labelField]=t,this.trigger(r)},formatTooltip:function(t,n){var r=n.index,i=this.xAxisList[0],s=this.yAxisList[0],o=t.getName(),u=this.dataSet.getSeries(this.xField),a=this.dataSet.getSeries(this.yField),f=this.isMultiSeries?this.filterDataByNameMatch(u,o)[r]:u[r],l=this.isMultiSeries?this.filterDataByNameMatch(a,o)[r]:a[r],c={isMultiSeries:this.isMultiSeries,xAxisName:this.xField,xValue:i.formatValue(f),yAxisName:this.yField,yValue:s.formatValue(l)};return this.isMultiSeries&&e.extend(c,{labelSeriesName:this.labelField}),t.getTooltipHtml(c)},filterDataByNameMatch:function(e,n){var r=this.dataSet.getSeries(this.labelField);return t(e).filter(function(e,t){return r[t]===n})}}),a}),define("js_charting/visualizations/gauges/Gauge",["jquery","underscore","highcharts","../Visualization","../../helpers/Formatter","../../components/ColorPalette","../../util/lang_utils","../../util/parsing_utils","../../util/testing_utils","../../util/math_utils","../../util/dom_utils","../../util/color_utils","splunk.i18n"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){var p=function(t,n){r.call(this,t,n),this.$hcContainer=e("<div />").addClass("highcharts-container").appendTo(this.container),this.elements={},this.hasRendered=!1,this.needsRedraw=!0};return o.inherit(p,r),e.extend(p.prototype,{WINDOW_RESIZE_DELAY:100,EXPORT_HEIGHT:400,EXPORT_WIDTH:600,MIN_GAUGE_HEIGHT:25,RESIZED_GAUGE_HEIGHT:200,DEFAULT_COLORS:[6924359,14009403,10892589],DEFAULT_RANGES:[0,30,70,100],MAX_TICKS_PER_RANGE:10,showValueByDefault:!0,showMinorTicksByDefault:!0,getWidth:function(){var e=r.prototype.getWidth.call(this);return this.exportMode?e||this.EXPORT_WIDTH:e},getHeight:function(){var e=r.prototype.getHeight.call(this);return this.exportMode?e||this.EXPORT_HEIGHT:(e=e<this.MIN_GAUGE_HEIGHT?this.RESIZED_GAUGE_HEIGHT:e,e)},prepare:function(t,n){var i=e.extend([],this.ranges);r.prototype.prepare.call(this,t,n),u.arraysAreEquivalent(i,this.ranges)||(this.needsRedraw=!0)},draw:function(e){this.needsRedraw?(this.destroy(),this.renderer=new n.Renderer(this.$hcContainer[0],this.getWidth(),this.getHeight()),this.formatter=new i(this.renderer),this.$container.css("backgroundColor",this.backgroundColor),this.renderGauge(),this.nudgeChart(),this.hasRendered=!0,this.testMode&&(a.gaugeAddTestingMetadata(this,this.elements,this.getClassName(),this.value),a.createGlobalReference(this,this.getChartObject())),this.needsRedraw=!1):this.updateValue(this.previousValue,this.value),e&&e(this)},setSize:function(e,t){if(!this.hasRendered)return;this.destroy(),this.renderer=new n.Renderer(this.$hcContainer[0],e,t),this.formatter=new i(this.renderer),this.renderGauge(),this.nudgeChart(),this.hasRendered=!0},destroy:function(){var e;this.stopWobble(),this.$container.stop();for(e in this.elements)this.elements.hasOwnProperty(e)&&this.elements[e].destroy();this.elements={},this.$hcContainer.empty(),this.$container.css("backgroundColor",""),this.hasRendered=!1},getSVG:function(){return this.$container.find("svg").eq(0).parent().html()},processProperties:function(){r.prototype.processProperties.call(this),this.colors=this.computeColors(),this.colorPalette=new s(this.colors,!0),this.ranges=this.computeRanges(),this.previousValue=this.value,this.value=this.computeValue(),this.majorUnit=parseInt(this.properties["chart.majorUnit"],10)||null,this.showMajorTicks=u.normalizeBoolean(this.properties["chart.showMajorTicks"],!0),this.showMinorTicks=u.normalizeBoolean(this.properties["chart.showMinorTicks"],this.showMinorTicksByDefault),this.showLabels=u.normalizeBoolean(this.properties["chart.showLabels"],!0),this.showValue=u.normalizeBoolean(this.properties["chart.showValue"],this.showValueByDefault),this.showRangeBand=u.normalizeBoolean(this.properties["chart.showRangeBand"],!0),this.usePercentageRange=u.normalizeBoolean(this.properties["chart.usePercentageRange"]),this.usePercentageValue=u.normalizeBoolean(this.properties["chart.usePercentageValue"]),this.isShiny=this.properties["chart.style"]!=="minimal"},computeColors:function(){var e=u.stringToHexArray(this.properties["chart.gaugeColors"]||this.properties.gaugeColors);return e&&e.length>0?e:this.DEFAULT_COLORS},computeRanges:function(){var e,n=u.stringToArray(this.properties["chart.rangeValues"]),r=u.normalizeBoolean(this.properties.gaugeAutoRanges);if(!r&&n&&n.length>1)e=n;else{var i=t.range(1,this.dataSet.length);e=t(i).map(function(e){return this.dataSet.seriesAt(e)[0]},this)}var s=-Infinity,o=[];return t(e).each(function(e){var n=f.parseFloat(e);!t(n).isNaN()&&n>s&&(o.push(n),s=n)}),o.length>1?o:this.DEFAULT_RANGES},computeValue:function(){return this.dataSet.seriesAt(0)?f.parseFloat(this.dataSet.seriesAt(0)[0])||0:0},updateValue:function(e,n){if(e===n)return;this.shouldAnimateTransition(e,n)&&(this.stopWobble(),this.animateTransition(e,n,t(this.drawIndicator).bind(this),t(this.onAnimationFinished).bind(this)));if(this.showValue){var r=this.formatValue(n);this.updateValueDisplay(r)}this.testMode&&a.gaugeUpdate(this.$container,n)},shouldAnimateTransition:function(e,t){return this.normalizedTranslateValue(e)!==this.normalizedTranslateValue(t)},drawTicks:function(){var t,n,r,i=this.calculateTickValues(this.ranges[0],this.ranges[this.ranges.length-1],this.MAX_TICKS_PER_RANGE);for(t=0;t<i.length;t++)n=this.translateValue(i[t]),this.showMajorTicks&&(this.elements["tickMark_"+i[t]]=this.drawMajorTick(n)),this.showLabels&&(r=this.formatTickLabel(i[t]),this.elements["tickLabel_"+i[t]]=this.drawMajorTickLabel(n,r));this.showLabels&&(i=this.removeTicksIfOverlap(i));if(this.showMinorTicks){var s=i[1]-i[0],o=s/this.minorsPerMajor,u=this.usePercentageRange?this.ranges[0]:i[0]-Math.floor((i[0]-this.ranges[0])/o)*o;for(t=u;t<=this.ranges[this.ranges.length-1];t+=o)if(!this.showMajorTicks||e.inArray(t,i)<0)n=this.translateValue(t),this.elements["minorTickMark_"+t]=this.drawMinorTick(n)}},removeTicksIfOverlap:function(e){while(e.length>2&&this.tickLabelsOverlap(e))e=this.removeEveryOtherTick(e);return e},tickLabelsOverlap:function(e){var t,n,r,i=3,s=1;for(t=0;t<e.length-1;t++){n=this.elements["tickLabel_"+e[t]],r=this.elements["tickLabel_"+e[t+1]];if(this.formatter.bBoxesOverlap(n.getBBox(),r.getBBox(),i,s))return!0}return!1},removeEveryOtherTick:function(e){var t,n=[];for(t=0;t<e.length;t++)t%2===0?n.push(e[t]):(this.elements["tickMark_"+e[t]].destroy(),this.elements["tickLabel_"+e[t]].destroy(),delete this.elements["tickMark_"+e[t]],delete this.elements["tickLabel_"+e[t]]);return n},animateTransition:function(e,t,n,r){var i=t-e,s=500,o={duration:s,step:function(t){n(e+t),this.nudgeChart()}.bind(this)};r&&(o.complete=function(){r(t)}),this.$container.stop(!0,!0).css({"animation-progress":0}).animate({"animation-progress":i},o)},onAnimationFinished:function(e){this.checkOutOfRange(e)},checkOutOfRange:function(e){var t,n,r;e<this.ranges[0]?(t=this.ranges[this.ranges.length-1]-this.ranges[0],r=t*.005,n=this.ranges[0]+r,this.wobble(n,r,this.drawIndicator)):e>this.ranges[this.ranges.length-1]&&(t=this.ranges[this.ranges.length-1]-this.ranges[0],r=t*.005,n=this.ranges[this.ranges.length-1]-r,this.wobble(n,r,this.drawIndicator))},formatValue:function(e){return this.usePercentageValue?this.formatPercent((e-this.ranges[0])/(this.ranges[this.ranges.length-1]-this.ranges[0])):this.formatNumber(e)},formatTickLabel:function(e){return this.usePercentageRange?this.formatPercent((e-this.ranges[0])/(this.ranges[this.ranges.length-1]-this.ranges[0])):this.formatNumber(e)},formatNumber:function(e){var t=parseFloat(e),n=Math.abs(t);return n>=1e9||n!==0&&n<.001?h.format_scientific(t,"#.###E0"):h.format_decimal(t)},formatPercent:function(e){return h.format_percent(e)},wobble:function(e,t,n){var r=this,i=0;this.wobbleInterval=setInterval(function(){var s=e+(i%3-1)*t;n.call(r,s),r.nudgeChart(),i=(i+1)%3},75)},stopWobble:function(){clearInterval(this.wobbleInterval)},nudgeChart:function(){if(l.hasSVG)return;this.elements.nudgeElement&&this.elements.nudgeElement.destroy(),this.elements.nudgeElement=this.renderer.rect(0,0,0,0).add()},predictTextWidth:function(e,t){return this.formatter.predictTextWidth(e,t)},calculateTickValues:function(e,t,n){var r,i,s=t-e,o=s/(n-1),u=f.nearestPowerOfTen(o),a=u,l=[];if(this.usePercentageRange){a=this.majorUnit&&!isNaN(this.majorUnit)?this.majorUnit:10;for(r=0;r<=100;r+=a)l.push(e+r/100*s)}else{this.majorUnit&&!isNaN(this.majorUnit)?a=this.majorUnit:(s/a>n&&(a*=2),s/a>n&&(a*=2.5),s/a>n&&(a*=2)),i=this.usePercentageRange?e:e>=0?0:e-e%a;for(r=i;r<=t;r+=a)r>=e&&l.push(parseFloat(r.toFixed(14)))}return l},getColorByIndex:function(e){return c.colorFromHex(this.colorPalette.getColor(null,e,this.ranges.length-1))},getChartObject:function(){return{series:[{data:[{y:this.value,onMouseOver:function(){}}]}]}},renderGauge:function(){this.updateDimensions()},translateValue:function(){},normalizedTranslateValue:function(){}}),p}),define("js_charting/visualizations/gauges/RadialGauge",["jquery","underscore","./Gauge","../../util/lang_utils","../../util/math_utils"],function(e,t,n,r,i){var s=function(e,t){n.call(this,e,t)};return r.inherit(s,n),e.extend(s.prototype,{showMinorTicksByDefault:!1,updateDimensions:function(){n.prototype.updateDimensions.call(this),this.width<this.height&&(this.$container.height(this.width),this.height=this.width)},processProperties:function(){n.prototype.processProperties.call(this),this.verticalPadding=10,this.minorsPerMajor=10,this.tickWidth=1,this.startAngle=this.computeStartAngle(),this.arcAngle=this.computeArcAngle()},computeStartAngle:function(){var e=parseInt(this.properties["chart.rangeStartAngle"],10);return t(e).isNaN()&&(e=45),i.degreeToRadian(e+90)},computeArcAngle:function(){var e=parseInt(this.properties["chart.rangeArcAngle"],10)||270;return i.degreeToRadian(e)},renderGauge:function(){n.prototype.renderGauge.call(this),this.borderWidth=i.roundWithMin(this.height/60,3),this.tickOffset=i.roundWithMin(this.height/100,3),this.tickLabelOffset=this.borderWidth,this.tickFontSize=i.roundWithMin(this.height/25,10),this.valueFontSize=i.roundWithMin(this.height/15,15),this.isShiny?(this.needleTailLength=i.roundWithMin(this.height/15,10),this.needleTailWidth=i.roundWithMin(this.height/50,6),this.knobWidth=i.roundWithMin(this.height/30,7)):this.needleWidth=i.roundWithMin(this.height/60,3),this.isShiny?(this.bandOffset=this.borderWidth,this.bandThickness=i.roundWithMin(this.height/40,4)):(this.bandOffset=0,this.bandThickness=i.roundWithMin(this.height/30,7)),this.tickColor=this.isShiny?"silver":this.foregroundColor,this.tickFontColor=this.isShiny?"silver":this.fontColor,this.valueColor=this.isShiny?"#b8b167":this.fontColor,this.tickLength=i.roundWithMin(this.height/20,4),this.minorTickLength=this.tickLength/2,this.radius=(this.height-2*(this.verticalPadding+this.borderWidth))/2,this.valueHeight=this.height-(this.radius/4+this.verticalPadding+this.borderWidth),this.needleLength=this.isShiny?this.radius:this.radius-this.bandThickness/2,this.tickStart=this.radius-this.bandOffset-this.bandThickness-this.tickOffset,this.tickEnd=this.tickStart-this.tickLength,this.tickLabelPosition=this.tickEnd-this.tickLabelOffset,this.minorTickEnd=this.tickStart-this.minorTickLength,this.isShiny&&(this.elements.border=this.renderer.circle(this.width/2,this.height/2,this.radius+this.borderWidth).attr({fill:"#edede7",stroke:"silver","stroke-width":1}).add(),this.elements.background=this.renderer.circle(this.width/2,this.height/2,this.radius).attr({fill:"#000000"}).add()),this.showRangeBand&&this.drawColorBand(),this.drawTicks(),this.drawIndicator(this.value),this.showValue&&this.drawValueDisplay(),this.checkOutOfRange(this.value)},updateValueDisplay:function(e){this.elements.valueDisplay.attr({text:e})},drawColorBand:function(){var e,t,n,r=this.radius-this.bandOffset,i=r-this.bandThickness;for(e=0;e<this.ranges.length-1;e++)t=this.translateValue(this.ranges[e]),n=this.translateValue(this.ranges[e+1]),this.elements["colorBand"+e]=this.renderer.arc(this.width/2,this.height/2,r,i,t,n).attr({fill:this.getColorByIndex(e)}).add()},drawMajorTick:function(e){return this.renderer.path(["M",this.width/2+this.tickStart*Math.cos(e),this.height/2+this.tickStart*Math.sin(e),"L",this.width/2+this.tickEnd*Math.cos(e),this.height/2+this.tickEnd*Math.sin(e)]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add()},drawMajorTickLabel:function(e,t){var n=Math.sin(e),r=this.predictTextWidth(t,this.tickFontSize),i=e<1.5*Math.PI?"left":"right",s=e<1.5*Math.PI?-r/2*n*n:r/2*n*n,o=this.tickFontSize/4*n;return this.renderer.text(t,this.width/2+this.tickLabelPosition*Math.cos(e)+s,this.height/2+(this.tickLabelPosition-4)*n+this.tickFontSize/4-o).attr({align:i}).css({color:this.tickFontColor,fontSize:this.tickFontSize+"px"}).add()},drawMinorTick:function(e){return this.renderer.path(["M",this.width/2+this.tickStart*Math.cos(e),this.height/2+this.tickStart*Math.sin(e),"L",this.width/2+this.minorTickEnd*Math.cos(e),this.height/2+this.minorTickEnd*Math.sin(e)]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add()},drawIndicator:function(e){var t,n,r,i,s,o,u=this.normalizedTranslateValue(e),a=Math.cos(u),f=Math.sin(u);this.isShiny?(t=["M",this.width/2-this.needleTailLength*a,this.height/2-this.needleTailLength*f,"L",this.width/2-this.needleTailLength*a+this.needleTailWidth*f,this.height/2-this.needleTailLength*f-this.needleTailWidth*a,this.width/2+this.needleLength*a,this.height/2+this.needleLength*f,this.width/2-this.needleTailLength*a-this.needleTailWidth*f,this.height/2-this.needleTailLength*f+this.needleTailWidth*a,this.width/2-this.needleTailLength*a,this.height/2-this.needleTailLength*f],i={linearGradient:[this.width/2-this.needleTailLength*a,this.height/2-this.needleTailLength*f,this.width/2-this.needleTailLength*a-this.needleTailWidth*f,this.height/2-this.needleTailLength*f+this.needleTailWidth*a],stops:[[0,"#999999"],[.2,"#cccccc"]]},s=["M",this.width/2-(this.needleTailLength-2)*a,this.height/2-(this.needleTailLength-2)*f,"L",this.width/2+(this.needleLength-this.bandOffset/2)*a,this.height/2+(this.needleLength-this.bandOffset/2)*f],o={linearGradient:[this.width/2+this.knobWidth*f,this.height/2-this.knobWidth*a,this.width/2-this.knobWidth*f,this.height/2+this.knobWidth*a],stops:[[0,"silver"],[.5,"black"],[1,"silver"]]}):(t=["M",this.width/2,this.height/2,"L",this.width/2+a*this.needleLength,this.height/2+f*this.needleLength],n=this.foregroundColor,r=this.needleWidth),this.isShiny&&(this.elements.centerKnob&&this.elements.centerKnob.destroy(),this.elements.centerKnob=this.renderer.circle(this.width/2,this.height/2,this.knobWidth).attr({fill:o}).add()),this.elements.needle&&this.elements.needle.destroy(),this.elements.needle=this.renderer.path(t).attr({fill:i||"",stroke:n||"","stroke-width":r||""}).add(),this.isShiny&&(this.elements.needleRidge&&this.elements.needleRidge.destroy(),this.elements.needleRidge=this.renderer.path(s).attr({stroke:"#cccccc","stroke-width":1}).add())},drawValueDisplay:function(){var e=this.formatValue(this.value);this.elements.valueDisplay=this.renderer.text(e,this.width/2,this.valueHeight).css({color:this.valueColor,fontSize:this.valueFontSize+"px",fontWeight:"bold"}).attr({align:"center"}).add()},getSVG:function(){return this.elements.centerKnob&&this.elements.centerKnob.attr({fill:"#999999"}),this.elements.needle.attr({fill:"#bbbbbb"}),this.elements.needleRidge&&this.elements.needleRidge.attr({stroke:"#999999"}),n.prototype.getSVG.call(this)},normalizedTranslateValue:function(e){return e<this.ranges[0]?this.translateValue(this.ranges[0]):e>this.ranges[this.ranges.length-1]?this.translateValue(this.ranges[this.ranges.length-1]):this.translateValue(e)},translateValue:function(e){var t=this.ranges[this.ranges.length-1]-this.ranges[0],n=e-this.ranges[0];return this.startAngle+n/t*this.arcAngle}}),s}),define("js_charting/visualizations/gauges/FillerGauge",["jquery","./Gauge","../../util/lang_utils","../../util/math_utils","../../util/color_utils"],function(e,t,n,r,i){var s=function(e,n){t.call(this,e,n),this.minorsPerMajor=5,this.minorTickWidth=1};return n.inherit(s,t),e.extend(s.prototype,{processProperties:function(){t.prototype.processProperties.call(this)},onAnimationFinished:function(){},renderGauge:function(){t.prototype.renderGauge.call(this),this.tickColor=this.foregroundColor,this.tickFontColor=this.fontColor,this.defaultValueColor=this.isShiny?"black":this.fontColor,this.drawBackground(),this.drawTicks(),this.drawIndicator(this.value)},updateValue:function(e,n){var i=r.getDecimalPrecision(e,3),s=r.getDecimalPrecision(n,3);this.valueAnimationPrecision=Math.max(i,s),t.prototype.updateValue.call(this,e,n)},getDisplayValue:function(e){var t=Math.pow(10,this.valueAnimationPrecision);return e!==this.value?Math.round(e*t)/t:e},updateValueDisplay:function(){},shouldAnimateTransition:function(){return!0},getFillColor:function(e){var t;for(t=0;t<this.ranges.length-2;t++)if(e<this.ranges[t+1])break;return this.getColorByIndex(t)},getValueColor:function(e){var t=i.hexFromColor(e),n=128,r="black",s="white",o=i.getLuminance(t);return o<n?s:r}}),s}),define("js_charting/visualizations/gauges/HorizontalFillerGauge",["jquery","./FillerGauge","../../util/lang_utils","../../util/math_utils"],function(e,t,n,r){var i=function(e,n){t.call(this,e,n),this.horizontalPadding=20,this.tickOffset=5,this.tickLength=15,this.tickWidth=1,this.tickLabelOffset=5,this.minorTickLength=Math.floor(this.tickLength/2)};return n.inherit(i,t),e.extend(i.prototype,{renderGauge:function(){this.tickFontSize=r.roundWithMinMax(this.width/50,10,20),this.backgroundCornerRad=r.roundWithMinMax(this.width/120,3,5),this.valueFontSize=r.roundWithMinMax(this.width/40,15,25),this.backgroundHeight=this.valueFontSize*3,this.valueBottomPadding=r.roundWithMinMax(this.width/100,5,10),t.prototype.renderGauge.call(this)},drawBackground:function(){var e=this.calculateTickValues(this.ranges[0],this.ranges[this.ranges.length-1],this.MAX_TICKS_PER_RANGE),t=e[e.length-1],n=this.predictTextWidth(this.formatValue(t),this.tickFontSize);this.horizontalPadding=Math.max(this.horizontalPadding,n),this.backgroundWidth=this.width-2*this.horizontalPadding,this.isShiny&&(this.elements.background=this.renderer.rect(this.horizontalPadding,(this.height-this.backgroundHeight)/2,this.backgroundWidth,this.backgroundHeight,this.backgroundCornerRad).attr({fill:"#edede7",stroke:"silver","stroke-width":1}).add()),this.tickStartY=(this.height+this.backgroundHeight)/2+this.tickOffset,this.tickEndY=this.tickStartY+this.tickLength,this.tickLabelStartY=this.tickEndY+this.tickLabelOffset},drawMajorTick:function(e){var t=this.horizontalPadding+e;return this.renderer.path(["M",t,this.tickStartY,"L",t,this.tickEndY]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add()},drawMajorTickLabel:function(e,t){var n=this.horizontalPadding+e;return this.renderer.text(t,n,this.tickLabelStartY+this.tickFontSize).attr({align:"center"}).css({color:this.tickFontColor,fontSize:this.tickFontSize+"px"}).add()},drawMinorTick:function(e){var t=this.horizontalPadding+e;return this.renderer.path(["M",t,this.tickStartY,"L",t,this.tickStartY+this.minorTickLength]).attr({stroke:this.tickColor,"stroke-width":this.minorTickWidth}).add()},drawIndicator:function(e){var t=this.getFillColor(e),n=this.normalizedTranslateValue(e),r,i;n>0?(n=Math.max(n,this.backgroundCornerRad),r=this.horizontalPadding+n,this.isShiny?i=["M",this.horizontalPadding+this.backgroundCornerRad,(this.height-this.backgroundHeight-2)/2,"C",this.horizontalPadding+this.backgroundCornerRad,(this.height-this.backgroundHeight-2)/2,this.horizontalPadding,(this.height-this.backgroundHeight-2)/2,this.horizontalPadding,(this.height-this.backgroundHeight-2)/2+this.backgroundCornerRad,"L",this.horizontalPadding,(this.height+this.backgroundHeight)/2-this.backgroundCornerRad,"C",this.horizontalPadding,(this.height+this.backgroundHeight)/2-this.backgroundCornerRad,this.horizontalPadding,(this.height+this.backgroundHeight)/2,this.horizontalPadding+this.backgroundCornerRad,(this.height+this.backgroundHeight)/2,"L",r,(this.height+this.backgroundHeight)/2,r,(this.height-this.backgroundHeight-2)/2,this.horizontalPadding+this.backgroundCornerRad,(this.height-this.backgroundHeight-2)/2]:i=["M",this.horizontalPadding,(this.height-this.backgroundHeight)/2,"L",r,(this.height-this.backgroundHeight)/2,r,(this.height+this.backgroundHeight)/2,this.horizontalPadding,(this.height+this.backgroundHeight)/2,this.horizontalPadding,(this.height-this.backgroundHeight)/2]):i=[],this.elements.fill&&this.elements.fill.destroy(),this.elements.fill=this.renderer.path(i).attr({fill:t}).add(),this.showValue&&this.drawValueDisplay(e,t,n)},drawValueDisplay:function(e,t,n){var r=this.getDisplayValue(e),i=this.horizontalPadding+n,s=this.getValueColor(t),o,u=this.formatValue(r),a=this.predictTextWidth(u,this.valueFontSize)+this.valueBottomPadding;n>=a?o=i-a:(o=i+this.valueBottomPadding,s=this.defaultValueColor),this.elements.valueDisplay?this.elements.valueDisplay.attr({text:u,x:o}).css({color:s,fontSize:this.valueFontSize+"px",fontWeight:"bold"}).toFront():this.elements.valueDisplay=this.renderer.text(u,o,this.height/2+this.valueFontSize/4).css({color:s,fontSize:this.valueFontSize+"px",fontWeight:"bold"}).attr({align:"left"}).add()},normalizedTranslateValue:function(e){return e<this.ranges[0]?0:e>this.ranges[this.ranges.length-1]?this.translateValue(this.ranges[this.ranges.length-1]):this.translateValue(e)},translateValue:function(e){var t=this.ranges[this.ranges.length-1]-this.ranges[0],n=e-this.ranges[0];return Math.round(n/t*this.backgroundWidth)}}),i}),define("js_charting/visualizations/gauges/VerticalFillerGauge",["jquery","./FillerGauge","../../util/lang_utils","../../util/math_utils"],function(e,t,n,r){var i=function(e,n){t.call(this,e,n),this.tickWidth=1};return n.inherit(i,t),e.extend(i.prototype,{renderGauge:function(){this.tickOffset=r.roundWithMin(this.height/100,3),this.tickLength=r.roundWithMin(this.height/20,4),this.tickLabelOffset=r.roundWithMin(this.height/60,3),this.tickFontSize=r.roundWithMin(this.height/20,10),this.minorTickLength=this.tickLength/2,this.backgroundCornerRad=r.roundWithMin(this.height/60,3),this.valueBottomPadding=r.roundWithMin(this.height/30,5),this.valueFontSize=r.roundWithMin(this.height/20,12),t.prototype.renderGauge.call(this)},drawBackground:function(){this.verticalPadding=10+this.tickFontSize/2,this.backgroundWidth=r.roundWithMin(this.height/4,50),this.backgroundHeight=this.height-2*this.verticalPadding;var e=this.determineMaxValueWidth(this.ranges,this.valueFontSize)+10;this.backgroundWidth=Math.max(this.backgroundWidth,e),this.isShiny&&(this.elements.background=this.renderer.rect((this.width-this.backgroundWidth)/2,this.verticalPadding,this.backgroundWidth,this.backgroundHeight,this.backgroundCornerRad).attr({fill:"#edede7",stroke:"silver","stroke-width":1}).add()),this.tickStartX=(this.width+this.backgroundWidth)/2+this.tickOffset,this.tickEndX=this.tickStartX+this.tickLength,this.tickLabelStartX=this.tickEndX+this.tickLabelOffset},determineMaxValueWidth:function(e,t){if(this.usePercentageValue)return this.predictTextWidth("100.00%",t);var n,r,i=0;for(n=0;n<e.length;n++){r=""+e[n];if(n===0||n===e.length-1)r+="0";i=Math.max(i,this.predictTextWidth(r,t))}return i},drawMajorTick:function(e){var t=this.verticalPadding+this.backgroundHeight-e;return this.renderer.path(["M",this.tickStartX,t,"L",this.tickEndX,t]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add()},drawMajorTickLabel:function(e,t){var n=this.verticalPadding+this.backgroundHeight-e;return this.renderer.text(t,this.tickLabelStartX,n+this.tickFontSize/4).attr({align:"left"}).css({color:this.tickFontColor,fontSize:this.tickFontSize+"px"}).add()},drawMinorTick:function(e){var t=this.verticalPadding+this.backgroundHeight-e;return this.renderer.path(["M",this.tickStartX,t,"L",this.tickStartX+this.minorTickLength,t]).attr({stroke:this.tickColor,"stroke-width":this.minorTickWidth}).add()},drawIndicator:function(e){var t=this.getFillColor(e),n=this.normalizedTranslateValue(e),r,i;n>0?(n=Math.max(n,this.backgroundCornerRad),r=this.verticalPadding+this.backgroundHeight-n,this.isShiny?i=["M",(this.width-this.backgroundWidth-2)/2,this.height-this.verticalPadding-this.backgroundCornerRad,"C",(this.width-this.backgroundWidth-2)/2,this.height-this.verticalPadding-this.backgroundCornerRad,(this.width-this.backgroundWidth-2)/2,this.height-this.verticalPadding,(this.width-this.backgroundWidth-2)/2+this.backgroundCornerRad,this.height-this.verticalPadding,"L",(this.width+this.backgroundWidth-2)/2-this.backgroundCornerRad,this.height-this.verticalPadding,"C",(this.width+this.backgroundWidth-2)/2-this.backgroundCornerRad,this.height-this.verticalPadding,(this.width+this.backgroundWidth-2)/2,this.height-this.verticalPadding,(this.width+this.backgroundWidth-2)/2,this.height-this.verticalPadding-this.backgroundCornerRad,"L",(this.width+this.backgroundWidth-2)/2,r,(this.width-this.backgroundWidth-2)/2,r,(this.width-this.backgroundWidth-2)/2,this.height-this.verticalPadding-this.backgroundCornerRad]:i=["M",(this.width-this.backgroundWidth)/2,this.height-this.verticalPadding,"L",(this.width+this.backgroundWidth)/2,this.height-this.verticalPadding,(this.width+this.backgroundWidth)/2,r,(this.width-this.backgroundWidth)/2,r,(this.width-this.backgroundWidth)/2,this.height-this.verticalPadding]):i=[],this.elements.fill&&this.elements.fill.destroy(),this.elements.fill=this.renderer.path(i).attr({fill:t}).add(),this.showValue&&this.drawValueDisplay(e,t)},drawValueDisplay:function(e,t){var n=this.getDisplayValue(e),r=this.normalizedTranslateValue(e),i=this.verticalPadding+this.backgroundHeight-r,s=this.valueFontSize+this.valueBottomPadding,o=this.getValueColor(t),u,a=this.formatValue(n);r>=s?u=i+s-this.valueBottomPadding:(u=i-this.valueBottomPadding,o=this.defaultValueColor),this.elements.valueDisplay?this.elements.valueDisplay.attr({text:a,y:u}).css({color:o,fontSize:this.valueFontSize+"px",fontWeight:"bold"}).toFront():this.elements.valueDisplay=this.renderer.text(a,this.width/2,u).css({color:o,fontSize:this.valueFontSize+"px",fontWeight:"bold"}).attr({align:"center"}).add()},normalizedTranslateValue:function(e){return e<this.ranges[0]?0:e>this.ranges[this.ranges.length-1]?this.translateValue(this.ranges[this.ranges.length-1])+5:this.translateValue(e)},translateValue:function(e){var t=this.ranges[this.ranges.length-1]-this.ranges[0],n=e-this.ranges[0];return Math.round(n/t*this.backgroundHeight)}}),i}),define("js_charting/visualizations/gauges/MarkerGauge",["jquery","./Gauge","../../util/lang_utils"],function(e,t,n){var r=function(e,n){t.call(this,e,n),this.bandCornerRad=0,this.tickLabelPaddingRight=10,this.minorsPerMajor=5,this.minorTickWidth=1,this.tickWidth=1};return n.inherit(r,t),e.extend(r.prototype,{showValueByDefault:!1,renderGauge:function(){t.prototype.renderGauge.call(this),this.tickColor=this.isShiny?"black":this.foregroundColor,this.tickFontColor=this.isShiny?"black":this.fontColor,this.valueOffset=this.isShiny?this.markerSideWidth+10:this.valueFontSize,this.drawBackground(),this.showRangeBand&&this.drawBand(),this.drawTicks(),this.drawIndicator(this.value),this.checkOutOfRange(this.value)},updateValueDisplay:function(){}}),r}),define("js_charting/visualizations/gauges/HorizontalMarkerGauge",["jquery","./MarkerGauge","../../util/lang_utils","../../util/math_utils"],function(e,t,n,r){var i=function(e,n){t.call(this,e,n),this.horizontalPadding=20,this.tickOffset=5,this.tickLength=15,this.tickWidth=1,this.tickLabelOffset=5,this.minorTickLength=Math.floor(this.tickLength/2),this.bandHeight=this.isShiny?15:35};return n.inherit(i,t),e.extend(i.prototype,{renderGauge:function(){this.markerWindowHeight=r.roundWithMinMax(this.width/30,30,80),this.markerSideWidth=this.markerWindowHeight/2,this.markerSideCornerRad=this.markerSideWidth/3,this.bandOffsetBottom=5+this.markerWindowHeight/2,this.bandOffsetTop=5+this.markerWindowHeight/2,this.tickFontSize=r.roundWithMinMax(this.width/50,10,20),this.backgroundCornerRad=r.roundWithMinMax(this.width/120,3,5),this.valueFontSize=r.roundWithMinMax(this.width/40,15,25),this.valueOffset=this.markerSideWidth+10,this.tickLabelPadding=this.tickFontSize/2,this.bandOffsetX=this.isShiny?this.tickLabelPadding:0,this.backgroundHeight=this.bandOffsetX+this.bandHeight+this.tickOffset+this.tickLength+this.tickLabelOffset+this.tickFontSize+this.tickLabelPadding,t.prototype.renderGauge.call(this)},drawBackground:function(e){e=this.calculateTickValues(this.ranges[0],this.ranges[this.ranges.length-1],this.MAX_TICKS_PER_RANGE);var t=e[e.length-1],n=this.predictTextWidth(this.formatValue(t),this.tickFontSize);this.bandOffsetBottom=Math.max(this.bandOffsetBottom,n),this.bandOffsetTop=Math.max(this.bandOffsetTop,n),this.backgroundWidth=this.width-2*this.horizontalPadding,this.bandWidth=this.backgroundWidth-(this.bandOffsetBottom+this.bandOffsetTop),this.isShiny&&(this.elements.background=this.renderer.rect(this.horizontalPadding,(this.height-this.backgroundHeight)/2,this.backgroundWidth,this.backgroundHeight,this.backgroundCornerRad).attr({fill:"#edede7",stroke:"silver","stroke-width":1}).add())},drawBand:function(){var e,t,n,r=this.horizontalPadding+this.bandOffsetBottom,i=(this.height-this.backgroundHeight)/2+this.bandOffsetX;for(e=0;e<this.ranges.length-1;e++)t=this.translateValue(this.ranges[e]),n=this.translateValue(this.ranges[e+1]),this.elements["colorBand"+e]=this.renderer.rect(r+t,i,n-t,this.bandHeight,this.bandCornerRad).attr({fill:this.getColorByIndex(e)}).add();this.tickStartY=(this.height-this.backgroundHeight)/2+(this.bandOffsetX+this.bandHeight)+this.tickOffset,this.tickEndY=this.tickStartY+this.tickLength,this.tickLabelStartY=this.tickEndY+this.tickLabelOffset},drawMajorTick:function(e){var t=this.horizontalPadding+this.bandOffsetBottom+e;return this.renderer.path(["M",t,this.tickStartY,"L",t,this.tickEndY]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add()},drawMajorTickLabel:function(e,t){var n=this.horizontalPadding+this.bandOffsetBottom+e;return this.renderer.text(t,n,this.tickLabelStartY+this.tickFontSize).attr({align:"center"}).css({color:this.tickFontColor,fontSize:this.tickFontSize+"px"}).add()},drawMinorTick:function(e){var t=this.horizontalPadding+this.bandOffsetBottom+e;return this.renderer.path(["M",t,this.tickStartY,"L",t,this.tickStartY+this.minorTickLength]).attr({stroke:this.tickColor,"stroke-width":this.minorTickWidth}).add()},drawIndicator:function(e){var t=this.normalizedTranslateValue(e),n=this.isShiny?(this.height-this.backgroundHeight)/2:(this.height-this.backgroundHeight)/2-10,r=this.isShiny?n+this.backgroundHeight:n+this.bandHeight+20,i=this.horizontalPadding+this.bandOffsetBottom+t,s=3,o=this.foregroundColor,u=["M",i,n,"L",i,r];if(this.isShiny){var a=["M",i-this.markerWindowHeight/2,n,"L",i-this.markerWindowHeight/2,n-(this.markerSideWidth-this.markerSideCornerRad),"C",i-this.markerWindowHeight/2,n-(this.markerSideWidth-this.markerSideCornerRad),i-this.markerWindowHeight/2,n-this.markerSideWidth,i-this.markerWindowHeight/2+this.markerSideCornerRad,n-this.markerSideWidth,"L",i+this.markerWindowHeight/2-this.markerSideCornerRad,n-this.markerSideWidth,"C",i+this.markerWindowHeight/2-this.markerSideCornerRad,n-this.markerSideWidth,i+this.markerWindowHeight/2,n-this.markerSideWidth,i+this.markerWindowHeight/2,n-(this.markerSideWidth-this.markerSideCornerRad),"L",i+this.markerWindowHeight/2,n,i-this.markerWindowHeight,n],f=["M",i-this.markerWindowHeight/2,r,"L",i-this.markerWindowHeight/2,r+(this.markerSideWidth-this.markerSideCornerRad),"C",i-this.markerWindowHeight/2,r+(this.markerSideWidth-this.markerSideCornerRad),i-this.markerWindowHeight/2,r+this.markerSideWidth,i-this.markerWindowHeight/2+this.markerSideCornerRad,r+this.markerSideWidth,"L",i+this.markerWindowHeight/2-this.markerSideCornerRad,r+this.markerSideWidth,"C",i+this.markerWindowHeight/2-this.markerSideCornerRad,r+this.markerSideWidth,i+this.markerWindowHeight/2,r+this.markerSideWidth,i+this.markerWindowHeight/2,r+(this.markerSideWidth-this.markerSideCornerRad),"L",i+this.markerWindowHeight/2,r,i-this.markerWindowHeight,r],l=["M",i-this.markerWindowHeight/2,n,"L",i-this.markerWindowHeight/2,r,i+this.markerWindowHeight/2,r,i+this.markerWindowHeight/2,n,i-this.markerWindowHeight/2,n],c=["M",i-1,n,"L",i-1,r];o="red",s=1,this.elements.markerLHS&&this.elements.markerLHS.destroy(),this.elements.markerLHS=this.renderer.path(a).attr({fill:"#cccccc"}).add(),this.elements.markerRHS&&this.elements.markerRHS.destroy(),this.elements.markerRHS=this.renderer.path(f).attr({fill:"#cccccc"}).add(),this.elements.markerWindow&&this.elements.markerWindow.destroy(),this.elements.markerWindow=this.renderer.rect(i-this.markerWindowHeight/2,n,this.markerWindowHeight,this.backgroundHeight,0).attr({fill:"rgba(255, 255, 255, 0.3)"}).add(),this.elements.markerBorder&&this.elements.markerBorder.destroy(),this.elements.markerBorder=this.renderer.path(l).attr({stroke:"white","stroke-width":2}).add(),this.elements.markerUnderline&&this.elements.markerUnderline.destroy(),this.elements.markerUnderline=this.renderer.path(c).attr({stroke:"white","stroke-width":2}).add()}this.elements.markerLine&&this.elements.markerLine.destroy(),this.elements.markerLine=this.renderer.path(u).attr({stroke:o,"stroke-width":s}).add(),this.showValue&&this.drawValueDisplay(e)},drawValueDisplay:function(e){var t=this.formatValue(e),n=this.normalizedTranslateValue(e),r=this.horizontalPadding+this.bandOffsetBottom+n;this.elements.valueDisplay?this.elements.valueDisplay.attr({text:t,x:r}):this.elements.valueDisplay=this.renderer.text(t,r,(this.height-this.backgroundHeight)/2-this.valueOffset).css({color:"black",fontSize:this.valueFontSize+"px",fontWeight:"bold"}).attr({align:"center"}).add()},normalizedTranslateValue:function(e){return e<this.ranges[0]?0:e>this.ranges[this.ranges.length-1]?this.translateValue(this.ranges[this.ranges.length-1]):this.translateValue(e)},translateValue:function(e){var t=this.ranges[this.ranges.length-1]-this.ranges[0],n=e-this.ranges[0];return Math.round(n/t*this.bandWidth)}}),i}),define("js_charting/visualizations/gauges/VerticalMarkerGauge",["jquery","./MarkerGauge","../../util/lang_utils","../../util/math_utils"],function(e,t,n,r){var i=function(e,n){t.call(this,e,n),this.verticalPadding=10};return n.inherit(i,t),e.extend(i.prototype,{renderGauge:function(){this.markerWindowHeight=r.roundWithMin(this.height/7,20),this.markerSideWidth=this.markerWindowHeight/2,this.markerSideCornerRad=this.markerSideWidth/3,this.bandOffsetBottom=5+this.markerWindowHeight/2,this.bandOffsetTop=5+this.markerWindowHeight/2,this.tickOffset=r.roundWithMin(this.height/100,3),this.tickLength=r.roundWithMin(this.height/20,4),this.tickLabelOffset=r.roundWithMin(this.height/60,3),this.tickFontSize=r.roundWithMin(this.height/20,10),this.minorTickLength=this.tickLength/2,this.backgroundCornerRad=r.roundWithMin(this.height/60,3),this.valueFontSize=r.roundWithMin(this.height/15,15),this.bandOffsetX=this.isShiny?r.roundWithMin(this.height/60,3):0,t.prototype.renderGauge.call(this)},drawBackground:function(){this.backgroundWidth=r.roundWithMin(this.height/4,50);var e=this.calculateTickValues(this.ranges[0],this.ranges[this.ranges.length-1],this.MAX_TICKS_PER_RANGE);this.backgroundHeight=this.height-2*this.verticalPadding,this.bandHeight=this.backgroundHeight-(this.bandOffsetBottom+this.bandOffsetTop),this.bandWidth=this.isShiny?10:30;var t,n,i=e[e.length-1];t=this.predictTextWidth(this.formatValue(i),this.tickFontSize),n=this.bandOffsetX+this.bandWidth+this.tickOffset+this.tickLength+this.tickLabelOffset+t+this.tickLabelPaddingRight,this.backgroundWidth=Math.max(this.backgroundWidth,n),this.isShiny&&(this.elements.background=this.renderer.rect((this.width-this.backgroundWidth)/2,this.verticalPadding,this.backgroundWidth,this.backgroundHeight,this.backgroundCornerRad).attr({fill:"#edede7",stroke:"silver","stroke-width":1}).add()),this.tickStartX=(this.width-this.backgroundWidth)/2+(this.bandOffsetX+this.bandWidth)+this.tickOffset,this.tickEndX=this.tickStartX+this.tickLength,this.tickLabelStartX=this.tickEndX+this.tickLabelOffset},drawBand:function(){var e,t,n,r=(this.width-this.backgroundWidth)/2+this.bandOffsetX,i=this.height-this.verticalPadding-this.bandOffsetBottom;for(e=0;e<this.ranges.length-1;e++)t=this.translateValue(this.ranges[e]),n=this.translateValue(this.ranges[e+1]),this.elements["colorBand"+e]=this.renderer.rect(r,i-n,this.bandWidth,n-t,this.bandCornerRad).attr({fill:this.getColorByIndex(e)}).add()},drawMajorTick:function(e){var t=this.verticalPadding+this.backgroundHeight-(this.bandOffsetBottom+e);return this.renderer.path(["M",this.tickStartX,t,"L",this.tickEndX,t]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add()},drawMajorTickLabel:function(e,t){var n=this.verticalPadding+this.backgroundHeight-(this.bandOffsetBottom+e);return this.renderer.text(t,this.tickLabelStartX,n+this.tickFontSize/4).attr({align:"left"}).css({color:this.tickFontColor,fontSize:this.tickFontSize+"px"}).add()},drawMinorTick:function(e){var t=this.verticalPadding+this.backgroundHeight-(this.bandOffsetBottom+e);return this.renderer.path(["M",this.tickStartX,t,"L",this.tickStartX+this.minorTickLength,t]).attr({stroke:this.tickColor,"stroke-width":this.minorTickWidth}).add()},drawIndicator:function(e){var t,n,r,i,s=this.normalizedTranslateValue(e),o=this.verticalPadding+this.backgroundHeight-(this.bandOffsetBottom+s),u=this.isShiny?(this.width-this.backgroundWidth)/2:(this.width-this.backgroundWidth)/2-10,a=this.isShiny?u+this.backgroundWidth:u+this.bandWidth+20,f=this.foregroundColor,l=3,c=["M",u,o,"L",a,o];this.isShiny&&(t=["M",u,o-this.markerWindowHeight/2,"L",u-(this.markerSideWidth-this.markerSideCornerRad),o-this.markerWindowHeight/2,"C",u-(this.markerSideWidth-this.markerSideCornerRad),o-this.markerWindowHeight/2,u-this.markerSideWidth,o-this.markerWindowHeight/2,u-this.markerSideWidth,o-this.markerWindowHeight/2+this.markerSideCornerRad,"L",u-this.markerSideWidth,o+this.markerWindowHeight/2-this.markerSideCornerRad,"C",u-this.markerSideWidth,o+this.markerWindowHeight/2-this.markerSideCornerRad,u-this.markerSideWidth,o+this.markerWindowHeight/2,u-(this.markerSideWidth-this.markerSideCornerRad),o+this.markerWindowHeight/2,"L",u,o+this.markerWindowHeight/2,u,o-this.markerWindowHeight/2],n=["M",a,o-this.markerWindowHeight/2,"L",a+(this.markerSideWidth-this.markerSideCornerRad),o-this.markerWindowHeight/2,"C",a+(this.markerSideWidth-this.markerSideCornerRad),o-this.markerWindowHeight/2,a+this.markerSideWidth,o-this.markerWindowHeight/2,a+this.markerSideWidth,o-this.markerWindowHeight/2+this.markerSideCornerRad,"L",a+this.markerSideWidth,o+this.markerWindowHeight/2-this.markerSideCornerRad,"C",a+this.markerSideWidth,o+this.markerWindowHeight/2-this.markerSideCornerRad,a+this.markerSideWidth,o+this.markerWindowHeight/2,a+(this.markerSideWidth-this.markerSideCornerRad),o+this.markerWindowHeight/2,"L",a,o+this.markerWindowHeight/2,a,o-this.markerWindowHeight/2],r=["M",u,o-this.markerWindowHeight/2,"L",a,o-this.markerWindowHeight/2,a,o+this.markerWindowHeight/2,u,o+this.markerWindowHeight/2,u,o-this.markerWindowHeight/2],i=["M",u,o+1,"L",a,o+1],f="red",l=1),this.isShiny&&(this.elements.markerLHS&&this.elements.markerLHS.destroy(),this.elements.markerLHS=this.renderer.path(t).attr({fill:"#cccccc"}).add(),this.elements.markerRHS&&this.elements.markerRHS.destroy(),this.elements.markerRHS=this.renderer.path(n).attr({fill:"#cccccc"}).add(),this.elements.markerWindow&&this.elements.markerWindow.destroy(),this.elements.markerWindow=this.renderer.rect(u,o-this.markerWindowHeight/2,this.backgroundWidth,this.markerWindowHeight,0).attr({fill:"rgba(255, 255, 255, 0.3)"}).add(),this.elements.markerBorder&&this.elements.markerBorder.destroy(),this.elements.markerBorder=this.renderer.path(r).attr({stroke:"white","stroke-width":2}).add(),this.elements.markerUnderline&&this.elements.markerUnderline.destroy(),this.elements.markerUnderline=this.renderer.path(i).attr({stroke:"white","stroke-width":2}).add()),this.elements.markerLine&&this.elements.markerLine.destroy(),this.elements.markerLine=this.renderer.path(c).attr({stroke:f,"stroke-width":l}).add(),this.showValue&&this.drawValueDisplay(e)},drawValueDisplay:function(e){var t=this.formatValue(e),n=this.normalizedTranslateValue(e),r=this.verticalPadding+this.backgroundHeight-this.bandOffsetBottom-n;this.elements.valueDisplay?this.elements.valueDisplay.attr({text:t,y:r+this.valueFontSize/4}):this.elements.valueDisplay=this.renderer.text(t,(this.width-this.backgroundWidth)/2-this.valueOffset,r+this.valueFontSize/4).css({color:"black",fontSize:this.valueFontSize+"px",fontWeight:"bold"}).attr({align:"right"}).add()},normalizedTranslateValue:function(e){return e<this.ranges[0]?0:e>this.ranges[this.ranges.length-1]?this.translateValue(this.ranges[this.ranges.length-1]):this.translateValue(e)},translateValue:function(e){var t=this.ranges[this.ranges.length-1]-this.ranges[0],n=e-this.ranges[0];return Math.round(n/t*this.bandHeight)}}),i}),define("js_charting/js_charting",["jquery","underscore","highcharts","helpers/user_agent","./helpers/DataSet","./visualizations/charts/Chart","./visualizations/charts/SplitSeriesChart","./visualizations/charts/PieChart","./visualizations/charts/ScatterChart","./visualizations/gauges/RadialGauge","./visualizations/gauges/HorizontalFillerGauge","./visualizations/gauges/VerticalFillerGauge","./visualizations/gauges/HorizontalMarkerGauge","./visualizations/gauges/VerticalMarkerGauge","./util/parsing_utils"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d){if(r.isFirefox()){var v=window.history;t(["pushState","replaceState"]).each(function(t){var r=v[t];v[t]=function(){r.apply(v,arguments),e(n).trigger("baseUriChange")}})}var m=function(e){if(!e||!e.fields||!e.columns)throw new Error("The data object passed to extractChartReadyData did not contain fields and columns");if(e.fields.length!==e.columns.length)throw new Error("The data object passed to extractChartReadyData must have the same number of fields and columns");return new i(e)},g=function(n,r){n instanceof e&&(n=n[0]);if(!t(n).isElement())throw new Error("Invalid first argument to createChart, container must be a valid DOM element or a jQuery object");r=r||{};var i=r.chart;return i==="pie"?new u(n,r):i==="scatter"?new a(n,r):i==="radialGauge"?new f(n,r):i==="fillerGauge"?r["chart.orientation"]==="x"?new l(n,r):new c(n,r):i==="markerGauge"?r["chart.orientation"]==="x"?new h(n,r):new p(n,r):d.normalizeBoolean(r["layout.splitSeries"])?new o(n,r):new s(n,r)};return{extractChartReadyData:m,createChart:g}});